import{e as N,ae as S,ap as D,r as x,aK as E,a0 as B,aa as P,ag as y,a5 as T,a1 as z,A as H,d as O,G as R,D as K,N as V,j as e,a2 as n,S as M,B as b,aJ as q}from"./index-Dm22qi9h.js";import{C as G}from"./clipboard-anxMjb0Z.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=N("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=N("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),$=[{name:"Dashboard",href:"/dashboard",icon:J,permission:"dashboard",description:"Übersicht und aktuelle Statistiken"},{name:"Regulatory Intelligence",href:"/regulatory-updates",icon:B,permission:"regulatoryUpdates",description:"Regulatory Intelligence"},{name:"Rechtsprechung",href:"/legal-cases",icon:P,permission:"legalCases",description:"Rechtsprechung und Präzedenzfälle"},{name:"Wissensdatenbank",href:"/knowledge-base",icon:y,permission:"knowledgeBase",description:"Wissensdatenbank und Artikel"},{name:"Newsletter",href:"/newsletters",icon:T,permission:"newsletters",description:"Newsletter-Verwaltung"},{name:"Analytics",href:"/analytics",icon:z,permission:"analytics",description:"Datenanalyse und Berichte"},{name:"Erweiterte Analytics",href:"/advanced-analytics",icon:H,permission:"advancedAnalytics",description:"Erweiterte Analysetools"},{name:"KI-Erkenntnisse",href:"/ai-insights",icon:O,permission:"aiInsights",description:"KI-gestützte Erkenntnisse"},{name:"Datenquellen-Verwaltung",href:"/global-sources",icon:R,permission:"globalSources",description:"Datenquellen-Verwaltung"},{name:"Datensammlung",href:"/data-collection",icon:K,permission:"dataCollection",description:"Datensammlung und -verwaltung"},{name:"Historische Daten",href:"/historical-data",icon:G,permission:"historicalData",description:"Historische Datenanalyse"},{name:"Projektmappe",href:"/project-notebook",icon:y,permission:"knowledgeBase",description:"Persönliche Projektsammlung"},{name:"Einstellungen",href:"/settings",icon:V,permission:"systemSettings",description:"Kundeneinstellungen"}];function X({permissions:j,tenantName:p,onPermissionsUpdate:o}){var w;const[g,v]=S(),a=D(),[h,k]=x.useState(j),{themeSettings:c,getThemeColors:I}=E(),m=I(),[W,C]=x.useTransition(),A=t=>a.tenantId?`/tenant/${a.tenantId}${t}`:t;x.useEffect(()=>{if(!a.tenantId)return;let t=!1;const l=(i,r)=>{try{return JSON.stringify(i)===JSON.stringify(r)}catch{return!1}},s=async()=>{try{const i=await fetch(`/api/customer/tenant/${a.tenantId}`,{cache:"no-store"});if(!i.ok)return;const r=await i.json(),d=r==null?void 0:r.customerPermissions;!t&&d&&!l(d,h)&&(k(d),o==null||o(d))}catch{}};s();const u=setInterval(s,6e4);return()=>{t=!0,clearInterval(u)}},[a.tenantId,o,h]);const f=$.filter(t=>h[t.permission]),L=t=>{const l=A(t.href),s=g===l||g===t.href,u=t.icon;return e.jsxs("button",{onClick:()=>C(()=>v(l)),className:n("w-full flex items-center justify-start px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 cursor-pointer group",s?"bg-white/10 text-white shadow-md":n("text-white/80",m.sidebarHover)),children:[e.jsx(u,{className:n("mr-3 h-5 w-5 flex-shrink-0 transition-colors",s?"text-white":"text-white/70")}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-left font-medium",children:t.name}),t.description&&e.jsx("span",{className:n("text-xs text-left mt-0.5",s?"text-white/80":"text-white/70"),children:t.description})]})]},t.href)};return e.jsxs("div",{className:n("fixed left-0 top-0 h-screen w-64 flex flex-col z-40 text-white",m.sidebar),children:[e.jsx("div",{className:"p-6 border-b border-white/10",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[c.companyLogo?e.jsx("img",{src:c.companyLogo,alt:"Company Logo",className:"w-8 h-8 rounded-lg object-cover"}):e.jsx("div",{className:n("w-8 h-8 bg-gradient-to-r rounded-lg flex items-center justify-center text-white font-bold text-sm",m.primary),children:((w=c.companyName||p)==null?void 0:w.charAt(0))||"H"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:c.companyName||p||"Customer Portal"}),e.jsx("p",{className:"text-sm text-white/70",children:"Regulatory Intelligence"})]})]})}),e.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:f.length>0?f.map(L):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(M,{className:"w-12 h-12 mx-auto text-white/60 mb-3"}),e.jsx("p",{className:"text-sm text-white/80",children:"Keine Berechtigung für Navigation"})]})}),e.jsxs("div",{className:"p-4 border-t border-white/10 bg-white/5 space-y-2",children:[e.jsxs(b,{variant:"outline",size:"sm",className:"w-full",onClick:()=>window.open("/chat-support","_blank"),children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Support Chat"]}),e.jsxs(b,{variant:"ghost",size:"sm",className:"w-full text-red-200 hover:text-white hover:bg-red-500/20",onClick:()=>window.location.href="/login",children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Abmelden"]}),e.jsx("p",{className:"text-xs text-white/60 text-center mt-2",children:"Powered by Helix Platform"})]})]})}export{X as C,_ as L};
