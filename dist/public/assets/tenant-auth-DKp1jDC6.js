import{e as O,r,j as e,ae as $,U as z,aI as H,ad as L,J as E,S as C,C as Z,a as D,b as J,P as U,c as _,v as I,I as T,B as p}from"./index-Dm22qi9h.js";import{U as q}from"./user-B59OzLQb.js";import{L as X}from"./lock-DBHjhAGA.js";import{E as R}from"./eye-KEHLO33x.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=O("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);function G(){const[n,u]=r.useState({x:0,y:0}),[c,i]=r.useState(!1);return r.useEffect(()=>{const h=a=>{u({x:a.clientX,y:a.clientY})},m=a=>{const t=a.target;t&&typeof t.matches=="function"&&t.matches('button, a, [role="button"], .cursor-hover')&&i(!0)},l=a=>{const t=a.target;t&&typeof t.matches=="function"&&t.matches('button, a, [role="button"], .cursor-hover')&&i(!1)};return document.addEventListener("mousemove",h),document.addEventListener("mouseenter",m,!0),document.addEventListener("mouseleave",l,!0),()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseenter",m,!0),document.removeEventListener("mouseleave",l,!0)}},[]),typeof window<"u"&&window.matchMedia("(pointer: coarse)").matches?null:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"cursor-dot",style:{left:n.x-4,top:n.y-4,transform:c?"scale(1.5)":"scale(1)"}}),e.jsx("div",{className:`cursor-ring ${c?"cursor-hover":""}`,style:{left:n.x-20,top:n.y-20}})]})}function te({tenantSubdomain:n="demo",tenantName:u="Demo Tenant",colorScheme:c="blue"}){const[,i]=$(),[h,m]=r.useTransition(),[l,a]=r.useState(""),[t,f]=r.useState(""),[x,M]=r.useState(!1),[v,b]=r.useState(!1),[j,w]=r.useState(""),{t:P}=z(),g=(()=>{switch(c){case"purple":return{primary:"from-purple-500 to-indigo-600",badge:"text-purple-600",glow:"from-purple-100 to-indigo-100 dark:from-purple-900 dark:to-indigo-900",button:"bg-purple-600 hover:bg-purple-700"};case"green":return{primary:"from-green-500 to-emerald-600",badge:"text-green-600",glow:"from-green-100 to-emerald-100 dark:from-green-900 dark:to-emerald-900",button:"bg-green-600 hover:bg-green-700"};default:return{primary:"from-blue-500 to-cyan-600",badge:"text-blue-600",glow:"from-blue-100 to-cyan-100 dark:from-blue-900 dark:to-cyan-900",button:"bg-blue-600 hover:bg-blue-700"}}})(),A=async d=>{var y,N,S;d.preventDefault(),b(!0),w("");try{const o=await fetch("/api/tenant/auth/login",{method:"POST",headers:{"Content-Type":"application/json","X-Tenant-Subdomain":n},body:JSON.stringify({email:l,password:t})});if(!o.ok){const F=await o.json();throw new Error(F.message||"Login failed")}const s=await o.json();localStorage.setItem("tenant_user",JSON.stringify(s));const k=((y=s==null?void 0:s.tenant)==null?void 0:y.subdomain)||((N=s==null?void 0:s.tenant)==null?void 0:N.id)||"demo";localStorage.setItem("tenant_id",String(k)),localStorage.setItem("tenant_subdomain",String(((S=s==null?void 0:s.tenant)==null?void 0:S.subdomain)||"demo")),m(()=>i(`/tenant/${k}/dashboard`))}catch(o){console.error("Login error:",o),w(o.message||P("auth.loginFailed"))}finally{b(!1)}},B=()=>{a("admin@demo-medical.local"),f("demo123")};return e.jsxs("div",{className:"custom-cursor min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-blue-950 dark:to-indigo-950 flex items-center justify-center p-6 relative",children:[e.jsx(G,{}),e.jsx("div",{className:"fixed top-4 right-4 z-50",children:e.jsx(H,{})}),e.jsxs("div",{className:"w-full max-w-md space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`emotional-float mx-auto w-16 h-16 bg-gradient-to-r ${g.primary} rounded-2xl shadow-xl flex items-center justify-center mb-6`,children:e.jsx(L,{className:"h-8 w-8 text-white"})}),e.jsx("h1",{className:"headline-section text-3xl mb-2",children:u}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Secure Tenant Login"}),e.jsxs("div",{className:"flex justify-center gap-3 mt-4",children:[e.jsxs(E,{variant:"outline",className:"emotional-pulse px-3 py-1",children:[e.jsx(C,{className:"h-3 w-3 mr-1"}),"Isolated Access"]}),e.jsxs(E,{variant:"outline",className:`px-3 py-1 ${g.badge}`,children:[e.jsx(L,{className:"h-3 w-3 mr-1"}),n]})]})]}),e.jsxs(Z,{className:"glass-card",children:[e.jsxs(D,{children:[e.jsx(J,{className:"text-2xl text-center",children:"Anmelden"}),e.jsx(U,{className:"text-center",children:"Zugang zu Ihrem personalisierten Helix-Bereich"})]}),e.jsxs(_,{children:[e.jsxs("form",{onSubmit:A,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"email",children:"E-Mail"}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(T,{id:"email",type:"email",placeholder:"ihre.email@unternehmen.de",value:l,onChange:d=>a(d.target.value),className:"pl-10",required:!0,"data-testid":"input-email"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{htmlFor:"password",children:"Passwort"}),e.jsxs("div",{className:"relative",children:[e.jsx(X,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(T,{id:"password",type:x?"text":"password",placeholder:"Ihr Passwort",value:t,onChange:d=>f(d.target.value),className:"pl-10 pr-10",required:!0,"data-testid":"input-password"}),e.jsx(p,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>M(!x),"data-testid":"button-toggle-password",children:x?e.jsx(Y,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(R,{className:"h-4 w-4 text-muted-foreground"})})]})]}),j&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:e.jsx("p",{className:"text-red-600 text-sm",children:j})}),e.jsx(p,{type:"submit",className:`w-full ${g.button} cursor-hover`,disabled:v,"data-testid":"button-login",children:v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Anmelden..."]}):"Anmelden"})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsx(p,{variant:"outline",className:"w-full cursor-hover",onClick:B,"data-testid":"button-demo",children:"Demo-Zugang verwenden"}),e.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"Für Testzwecke und Demonstrationen"})]})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx(C,{className:"inline h-3 w-3 mr-1"}),"Ihre Daten sind sicher isoliert und verschlüsselt"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Administratoren haben keinen Zugriff auf Tenant-Bereiche"})]}),e.jsx("div",{className:"text-center mt-6",children:e.jsx("button",{onClick:()=>i("/"),className:"text-xs text-gray-400 hover:text-gray-600 transition-colors duration-200 underline-offset-4 hover:underline","data-testid":"link-admin-access",children:"Admin-Zugang"})})]})]})}export{te as default};
