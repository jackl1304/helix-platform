import{e as u,ap as g,r as p,g as N,j as s,C as l,c,a0 as f,G as b,B as i,M as v,a as y,b as w,J as r}from"./index-Dm22qi9h.js";import{S}from"./separator-CPcIpOfY.js";import{S as C}from"./scroll-area-B013hl0D.js";import{C as D}from"./calendar-B2qkWIGY.js";import{D as F}from"./download-CQfvf7I6.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=u("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);function M(){const{sourceType:n,documentId:d}=g(),[m,x]=p.useState(16),{data:a,isLoading:o,error:h}=N({queryKey:[`/api/documents/${n}/${d}`],enabled:!!(n&&d)});if(o)return s.jsxs("div",{className:"animate-pulse p-6",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-8"}),s.jsx("div",{className:"space-y-3",children:[...Array(10)].map((e,t)=>s.jsx("div",{className:"h-4 bg-gray-200 rounded"},t))})]});if(h||!a)return s.jsx("div",{className:"p-6",children:s.jsx(l,{children:s.jsxs(c,{className:"text-center py-8",children:[s.jsx(f,{className:"mx-auto h-8 w-8 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Document Not Found"}),s.jsx("p",{className:"text-gray-500",children:"The requested document could not be loaded."})]})})});const j=e=>{switch(e.toLowerCase()){case"fda":return s.jsx(r,{className:"bg-blue-100 text-blue-800",children:"FDA"});case"ema":return s.jsx(r,{className:"bg-green-100 text-green-800",children:"EMA"});case"bfarm":return s.jsx(r,{className:"bg-red-100 text-red-800",children:"BfArM"});case"swissmedic":return s.jsx(r,{className:"bg-purple-100 text-purple-800",children:"Swissmedic"});default:return s.jsx(r,{variant:"secondary",children:e.toUpperCase()})}};return s.jsxs("div",{children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:a.title}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[j(a.sourceType),s.jsxs("span",{className:"flex items-center",children:[s.jsx(D,{className:"h-4 w-4 mr-1"}),new Date(a.createdAt).toLocaleDateString()]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(b,{className:"h-4 w-4 mr-1"}),a.metadata.language.toUpperCase()]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(z,{className:"h-4 w-4 mr-1"}),a.metadata.pages," pages"]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(i,{variant:"outline",size:"sm",children:[s.jsx(F,{className:"h-4 w-4 mr-2"}),"Download"]}),s.jsxs(i,{variant:"outline",size:"sm",children:[s.jsx(v,{className:"h-4 w-4 mr-2"}),"Original Source"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(l,{children:[s.jsx(y,{children:s.jsx(w,{className:"text-sm font-medium",children:"Document Controls"})}),s.jsxs(c,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Size"}),s.jsx("div",{className:"flex space-x-1",children:[14,16,18].map(e=>s.jsxs(i,{variant:m===e?"default":"outline",size:"sm",onClick:()=>x(e),children:[e,"px"]},e))})]}),s.jsx(S,{}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Document Info"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{children:["Format: ",a.metadata.format]}),s.jsxs("div",{children:["Size: ",a.metadata.fileSize]}),s.jsxs("div",{children:["Pages: ",a.metadata.pages]}),s.jsxs("div",{children:["Language: ",a.metadata.language.toUpperCase()]})]})]})]})]})}),s.jsx("div",{className:"lg:col-span-3",children:s.jsx(l,{children:s.jsx(c,{className:"p-0",children:s.jsx(C,{className:"h-[800px] w-full",children:s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"prose max-w-none",style:{fontSize:`${m}px`,lineHeight:1.6},children:a.content.split(`
`).map((e,t)=>e.startsWith("# ")?s.jsx("h1",{className:"text-2xl font-bold mt-6 mb-4 text-gray-900",children:e.substring(2)},t):e.startsWith("## ")?s.jsx("h2",{className:"text-xl font-semibold mt-5 mb-3 text-gray-800",children:e.substring(3)},t):e.startsWith("### ")?s.jsx("h3",{className:"text-lg font-medium mt-4 mb-2 text-gray-700",children:e.substring(4)},t):e.startsWith("- ")?s.jsx("li",{className:"ml-4 mb-1",children:e.substring(2)},t):e.trim()===""?s.jsx("br",{},t):e.startsWith("**")&&e.endsWith("**")?s.jsx("p",{className:"font-semibold mb-2",children:e.substring(2,e.length-2)},t):s.jsx("p",{className:"mb-3 text-gray-700",children:e},t))})})})})})})]})]})}export{M as default};
