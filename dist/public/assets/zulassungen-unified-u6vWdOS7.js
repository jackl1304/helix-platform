import{U as ue,r as t,g as ge,X as oe,Y as y,j as e,$ as X,B as A,_ as je,C as v,a as f,b,k as L,c as p,V as Y,G as ee,ab as Ne,a7 as se,P as ae,I as ye,w as g,x as o,y as j,z as N,E as a,l as le,m as te,n as r,H as w,W as ie,o as ve,q as fe,s as be,t as pe,O as we,J as d,M as Ae,ac as Se,ad as De,N as ke,a0 as B,D as Ce,a1 as Me}from"./index-Dm22qi9h.js";import{F as Ee}from"./filter-CBkaAuG_.js";import{D as Ie}from"./download-CQfvf7I6.js";import{C as Te}from"./calendar-B2qkWIGY.js";function Le(){const{t:Pe}=ue(),[c,F]=t.useState(""),[S,Z]=t.useState("all"),[D,G]=t.useState("all"),[k,O]=t.useState("all"),[C,U]=t.useState("all"),[M,z]=t.useState("all"),[E,$]=t.useState("all"),[I,q]=t.useState("all"),[l,re]=t.useState(null),[ne,J]=t.useState(!1),[x,Q]=t.useState("all"),{data:i,isLoading:de,error:Ke}=ge({queryKey:["/api/approvals/unified"],queryFn:async()=>{const s=await fetch("http://localhost:3000/api/approvals/unified");if(!s.ok)throw new Error("Failed to fetch approvals");return s.json()},staleTime:3e5}),V=t.useMemo(()=>i?Array.isArray(i)?i:i&&typeof i=="object"&&"data"in i?Array.isArray(i.data)?i.data:[]:[]:[],[i]),h=oe(V),H=t.useMemo(()=>y(h,s=>{const n=!c||s.title.toLowerCase().includes(c.toLowerCase())||s.applicant.toLowerCase().includes(c.toLowerCase())||s.summary.toLowerCase().includes(c.toLowerCase())||Se(s.tags||[],me=>me.toLowerCase().includes(c.toLowerCase())),T=S==="all"||s.type===S,P=D==="all"||s.status===D,K=k==="all"||s.region===k,R=C==="all"||s.authority===C,m=M==="all"||s.deviceClass===M,u=E==="all"||s.priority===E,xe=I==="all"||s.category===I,he=x==="all"||x==="pending"&&s.status==="pending"||x==="approved"&&s.status==="approved"||x==="recent"&&s.decisionDate&&new Date(s.decisionDate)>new Date(Date.now()-30*24*60*60*1e3);return n&&T&&P&&K&&R&&m&&u&&xe&&he}),[V,c,S,D,k,C,M,E,I,x]),ce=s=>{re(s),J(!0)},W=s=>{switch(s){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"submitted":return"bg-blue-100 text-blue-800";case"rejected":return"bg-red-100 text-red-800";case"withdrawn":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},_=s=>{switch(s){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}};return de?e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:X([...Array(6)],(s,n)=>e.jsx("div",{className:"h-64 bg-gray-200 rounded"},n))})]})}):e.jsxs("div",{className:"container mx-auto p-6 space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Zulassungen & Registrierungen"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Zentrale Ãœbersicht aller Medizinprodukte-Zulassungen, FDA Clearances und Registrierungen"})]}),e.jsxs(A,{variant:"outline",size:"sm",children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"Aktualisieren"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(v,{children:[e.jsxs(f,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(b,{className:"text-sm font-medium",children:"Gesamt Zulassungen"}),e.jsx(L,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(p,{children:[e.jsx("div",{className:"text-2xl font-bold",children:V.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Alle Zulassungstypen"})]})]}),e.jsxs(v,{children:[e.jsxs(f,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(b,{className:"text-sm font-medium",children:"Genehmigt"}),e.jsx(L,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(p,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:y(h,s=>s.status==="approved").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Erfolgreich zugelassen"})]})]}),e.jsxs(v,{children:[e.jsxs(f,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(b,{className:"text-sm font-medium",children:"Ausstehend"}),e.jsx(Y,{className:"h-4 w-4 text-yellow-600"})]}),e.jsxs(p,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:y(h,s=>s.status==="pending").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"In Bearbeitung"})]})]}),e.jsxs(v,{children:[e.jsxs(f,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(b,{className:"text-sm font-medium",children:"Regionen"}),e.jsx(ee,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(p,{children:[e.jsx("div",{className:"text-2xl font-bold",children:Ne(h,s=>s.region).length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Verschiedene MÃ¤rkte"})]})]})]}),e.jsxs(v,{children:[e.jsxs(f,{children:[e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5"}),"Erweiterte Suche & Filter"]}),e.jsx(ae,{children:"Filtern Sie nach Typ, Status, Region, BehÃ¶rde und weiteren Kriterien"})]}),e.jsx(p,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(ye,{placeholder:"Suche nach Produkt, Hersteller, Beschreibung oder Tags...",value:c,onChange:s=>F(s.target.value),className:"flex-1"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[e.jsxs(g,{value:S,onValueChange:Z,children:[e.jsx(o,{children:e.jsx(j,{placeholder:"Typ"})}),e.jsxs(N,{children:[e.jsx(a,{value:"all",children:"Alle Typen"}),e.jsx(a,{value:"510k",children:"FDA 510(k)"}),e.jsx(a,{value:"pma",children:"FDA PMA"}),e.jsx(a,{value:"ce",children:"CE-Kennzeichnung"}),e.jsx(a,{value:"mdr",children:"MDR"}),e.jsx(a,{value:"ivd",children:"IVDR"}),e.jsx(a,{value:"iso",children:"ISO Standards"}),e.jsx(a,{value:"other",children:"Sonstige"})]})]}),e.jsxs(g,{value:D,onValueChange:G,children:[e.jsx(o,{children:e.jsx(j,{placeholder:"Status"})}),e.jsxs(N,{children:[e.jsx(a,{value:"all",children:"Alle Status"}),e.jsx(a,{value:"approved",children:"Genehmigt"}),e.jsx(a,{value:"pending",children:"Ausstehend"}),e.jsx(a,{value:"submitted",children:"Eingereicht"}),e.jsx(a,{value:"rejected",children:"Abgelehnt"}),e.jsx(a,{value:"withdrawn",children:"ZurÃ¼ckgezogen"})]})]}),e.jsxs(g,{value:k,onValueChange:O,children:[e.jsx(o,{children:e.jsx(j,{placeholder:"Region"})}),e.jsxs(N,{children:[e.jsx(a,{value:"all",children:"Alle Regionen"}),e.jsx(a,{value:"US",children:"USA"}),e.jsx(a,{value:"EU",children:"Europa"}),e.jsx(a,{value:"Germany",children:"Deutschland"}),e.jsx(a,{value:"Canada",children:"Kanada"}),e.jsx(a,{value:"Australia",children:"Australien"}),e.jsx(a,{value:"Japan",children:"Japan"}),e.jsx(a,{value:"UK",children:"GroÃŸbritannien"}),e.jsx(a,{value:"APAC",children:"APAC"}),e.jsx(a,{value:"Global",children:"Global"}),e.jsx(a,{value:"China",children:"China"}),e.jsx(a,{value:"Brazil",children:"Brasilien"}),e.jsx(a,{value:"India",children:"Indien"}),e.jsx(a,{value:"South Korea",children:"SÃ¼dkorea"}),e.jsx(a,{value:"Singapore",children:"Singapur"}),e.jsx(a,{value:"Saudi Arabia",children:"Saudi-Arabien"}),e.jsx(a,{value:"South Africa",children:"SÃ¼dafrika"}),e.jsx(a,{value:"Argentina",children:"Argentinien"}),e.jsx(a,{value:"Malaysia",children:"Malaysia"}),e.jsx(a,{value:"New Zealand",children:"Neuseeland"}),e.jsx(a,{value:"Kenya",children:"Kenia"}),e.jsx(a,{value:"Egypt",children:"Ã„gypten"}),e.jsx(a,{value:"Nigeria",children:"Nigeria"})]})]}),e.jsxs(g,{value:C,onValueChange:U,children:[e.jsx(o,{children:e.jsx(j,{placeholder:"BehÃ¶rde"})}),e.jsxs(N,{children:[e.jsx(a,{value:"all",children:"Alle BehÃ¶rden"}),e.jsx(a,{value:"FDA",children:"FDA (USA)"}),e.jsx(a,{value:"EMA",children:"EMA (EU)"}),e.jsx(a,{value:"BfArM",children:"BfArM (Deutschland)"}),e.jsx(a,{value:"Health Canada",children:"Health Canada"}),e.jsx(a,{value:"TGA",children:"TGA (Australien)"}),e.jsx(a,{value:"PMDA",children:"PMDA (Japan)"}),e.jsx(a,{value:"MHRA",children:"MHRA (UK)"}),e.jsx(a,{value:"ISO",children:"ISO (International)"}),e.jsx(a,{value:"IEC",children:"IEC (International)"}),e.jsx(a,{value:"NMPA",children:"NMPA (China)"}),e.jsx(a,{value:"CDSCO",children:"CDSCO (Indien)"}),e.jsx(a,{value:"MFDS",children:"MFDS (SÃ¼dkorea)"}),e.jsx(a,{value:"HSA",children:"HSA (Singapur)"}),e.jsx(a,{value:"Medsafe",children:"Medsafe (Neuseeland)"}),e.jsx(a,{value:"ANMAT",children:"ANMAT (Argentinien)"}),e.jsx(a,{value:"MOH Malaysia",children:"MOH Malaysia"}),e.jsx(a,{value:"KEMRI",children:"KEMRI (Kenia)"}),e.jsx(a,{value:"MOH Egypt",children:"MOH Egypt"}),e.jsx(a,{value:"NMPB",children:"NMPB (Nigeria)"}),e.jsx(a,{value:"SFDA",children:"SFDA (Saudi-Arabien)"}),e.jsx(a,{value:"SAHPRA",children:"SAHPRA (SÃ¼dafrika)"}),e.jsx(a,{value:"TÃœV SÃœD",children:"TÃœV SÃœD (Notified Body)"}),e.jsx(a,{value:"Bureau Veritas",children:"Bureau Veritas (Notified Body)"}),e.jsx(a,{value:"ANVISA",children:"ANVISA (Brasilien)"}),e.jsx(a,{value:"Other",children:"Sonstige"})]})]}),e.jsxs(g,{value:M,onValueChange:z,children:[e.jsx(o,{children:e.jsx(j,{placeholder:"Klasse"})}),e.jsxs(N,{children:[e.jsx(a,{value:"all",children:"Alle Klassen"}),e.jsx(a,{value:"I",children:"Klasse I"}),e.jsx(a,{value:"II",children:"Klasse II"}),e.jsx(a,{value:"III",children:"Klasse III"}),e.jsx(a,{value:"IVD",children:"IVD"}),e.jsx(a,{value:"N/A",children:"N/A"})]})]}),e.jsxs(g,{value:E,onValueChange:$,children:[e.jsx(o,{children:e.jsx(j,{placeholder:"PrioritÃ¤t"})}),e.jsxs(N,{children:[e.jsx(a,{value:"all",children:"Alle PrioritÃ¤ten"}),e.jsx(a,{value:"high",children:"Hoch"}),e.jsx(a,{value:"medium",children:"Mittel"}),e.jsx(a,{value:"low",children:"Niedrig"})]})]}),e.jsxs(g,{value:I,onValueChange:q,children:[e.jsx(o,{children:e.jsx(j,{placeholder:"Kategorie"})}),e.jsxs(N,{children:[e.jsx(a,{value:"all",children:"Alle Kategorien"}),e.jsx(a,{value:"device",children:"GerÃ¤t"}),e.jsx(a,{value:"software",children:"Software"}),e.jsx(a,{value:"diagnostic",children:"Diagnostik"}),e.jsx(a,{value:"therapeutic",children:"Therapie"}),e.jsx(a,{value:"monitoring",children:"Monitoring"})]})]}),e.jsxs(A,{variant:"outline",onClick:()=>{F(""),Z("all"),G("all"),O("all"),U("all"),z("all"),$("all"),q("all"),Q("all")},className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"h-4 w-4"}),"ZurÃ¼cksetzen"]})]})]})})]}),e.jsxs(le,{value:x,onValueChange:Q,children:[e.jsxs(te,{className:"grid w-full grid-cols-4",children:[e.jsxs(r,{value:"all",children:["Alle (",H.length,")"]}),e.jsxs(r,{value:"approved",children:["Genehmigt (",y(h,s=>s.status==="approved").length,")"]}),e.jsxs(r,{value:"pending",children:["Ausstehend (",y(h,s=>s.status==="pending").length,")"]}),e.jsxs(r,{value:"recent",children:["Aktuell (",y(h,s=>s.decisionDate&&new Date(s.decisionDate)>new Date(Date.now()-30*24*60*60*1e3)).length,")"]})]}),e.jsxs(w,{value:x,className:"space-y-6",children:[e.jsx("div",{className:"space-y-6",children:X(H,s=>{var n,T,P,K,R;return e.jsxs(v,{className:"w-full",children:[e.jsx(f,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(b,{className:"text-xl mb-2",children:s.title}),e.jsxs(ae,{className:"text-base",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(De,{className:"h-4 w-4"}),s.applicant]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ee,{className:"h-4 w-4"}),s.region]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Te,{className:"h-4 w-4"}),new Date(s.submittedDate).toLocaleDateString("de-DE")]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(d,{className:W(s.status),children:[s.status==="approved"&&"Genehmigt",s.status==="pending"&&"Ausstehend",s.status==="submitted"&&"Eingereicht",s.status==="rejected"&&"Abgelehnt",s.status==="withdrawn"&&"ZurÃ¼ckgezogen"]}),e.jsx(d,{variant:"outline",children:s.type.toUpperCase()}),e.jsxs(d,{variant:"outline",children:["Klasse ",s.deviceClass]}),e.jsxs("span",{className:`text-sm ${_(s.priority)}`,children:[s.priority==="high"&&"ðŸ”´ Hohe PrioritÃ¤t",s.priority==="medium"&&"ðŸŸ¡ Mittlere PrioritÃ¤t",s.priority==="low"&&"ðŸŸ¢ Niedrige PrioritÃ¤t"]})]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(A,{variant:"outline",size:"sm",onClick:()=>ce(s),children:e.jsx(ke,{className:"h-4 w-4"})})})]})}),e.jsx(p,{children:e.jsxs(le,{defaultValue:"overview",className:"w-full",children:[e.jsxs(te,{className:"mx-4 mt-4",children:[e.jsx(r,{value:"overview","data-testid":`tab-overview-${s.id}`,children:"Ãœbersicht"}),e.jsx(r,{value:"milestones","data-testid":`tab-milestones-${s.id}`,children:"Meilensteine"}),e.jsx(r,{value:"challenges","data-testid":`tab-challenges-${s.id}`,children:"Herausforderungen"}),e.jsx(r,{value:"details","data-testid":`tab-details-${s.id}`,children:"Details"}),e.jsx(r,{value:"analysis","data-testid":`tab-analysis-${s.id}`,children:"Analyse"})]}),e.jsx(w,{value:"overview",className:"p-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5 text-blue-600"}),"Produktbeschreibung"]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:s.summary||"Produktbeschreibung wird geladen..."})]}),s.fullText&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5 text-gray-600"}),"VollstÃ¤ndige Beschreibung"]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:s.fullText})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-950 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2",children:[e.jsx(L,{className:"w-5 h-5 text-green-600"}),"Zulassungsdetails"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Antragsteller:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.applicant})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"BehÃ¶rde:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.authority})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Eingereicht:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:new Date(s.submittedDate).toLocaleDateString("de-DE")})]}),s.decisionDate&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Entscheidung:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:new Date(s.decisionDate).toLocaleDateString("de-DE")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Zulassungstyp:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.type.toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"GerÃ¤teklasse:"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Klasse ",s.deviceClass]})]})]})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-950 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2",children:[e.jsx(Ce,{className:"w-5 h-5 text-purple-600"}),"Kategorien & Tags"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((m,u)=>e.jsx(d,{variant:"secondary",className:"text-xs",children:m},u))})]})]})}),e.jsx(w,{value:"milestones",className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[e.jsx(Y,{className:"w-5 h-5 text-blue-600"}),"Zulassungsmeilensteine"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 dark:bg-blue-950 rounded-lg",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Antrag eingereicht"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:new Date(s.submittedDate).toLocaleDateString("de-DE")})]})]}),s.decisionDate&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 dark:bg-green-950 rounded-lg",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Zulassung erteilt"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:new Date(s.decisionDate).toLocaleDateString("de-DE")})]})]})]})]})}),e.jsx(w,{value:"challenges",className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[e.jsx(ie,{className:"w-5 h-5 text-yellow-600"}),"Herausforderungen & Risiken"]}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-950 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:((n=s.detailedAnalysis)==null?void 0:n.riskAssessment)||"Risikobewertung wird geladen..."})})]})}),e.jsx(w,{value:"details",className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5 text-gray-600"}),"Technische Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-medium mb-2",children:"Klinische Daten"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:((T=s.detailedAnalysis)==null?void 0:T.clinicalData)||"Klinische Daten werden geladen..."})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-medium mb-2",children:"Regulatorischer Weg"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:((P=s.detailedAnalysis)==null?void 0:P.regulatoryPathway)||"Regulatorischer Weg wird geladen..."})]})]}),s.attachments&&s.attachments.length>0&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-medium mb-2",children:"AnhÃ¤nge"}),e.jsx("div",{className:"space-y-2",children:s.attachments.map((m,u)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(B,{className:"w-4 h-4"}),m]},u))})]})]})}),e.jsx(w,{value:"analysis",className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-indigo-600"}),"Marktanalyse & Impact"]}),e.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-950 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-medium mb-2",children:"Marktauswirkungen"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-4",children:((K=s.detailedAnalysis)==null?void 0:K.marketImpact)||"Marktanalyse wird geladen..."})]}),((R=s.detailedAnalysis)==null?void 0:R.complianceRequirements)&&e.jsxs("div",{className:"bg-green-50 dark:bg-green-950 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-medium mb-2",children:"Compliance-Anforderungen"}),e.jsx("div",{className:"space-y-1",children:s.detailedAnalysis.complianceRequirements.map((m,u)=>e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["â€¢ ",m]},u))})]}),s.metadata&&e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-950 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-medium mb-2",children:"Metadaten"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Quelle:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.metadata.source})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Vertrauen:"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[Math.round((s.metadata.confidence||0)*100),"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.metadata.verificationStatus})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Aktualisiert:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.metadata.lastUpdated?new Date(s.metadata.lastUpdated).toLocaleDateString("de-DE"):"N/A"})]})]})]})]})})]})})]},s.id)})}),H.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ie,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Keine Zulassungen gefunden"}),e.jsx("p",{className:"text-gray-600",children:"Versuchen Sie andere Suchkriterien oder Filter zu verwenden."})]})]})]}),e.jsx(ve,{open:ne,onOpenChange:J,children:e.jsx(fe,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:l&&e.jsxs(e.Fragment,{children:[e.jsxs(be,{children:[e.jsx(pe,{className:"text-2xl",children:l.title}),e.jsxs(we,{children:[l.applicant," â€¢ ",l.authority," â€¢ ",l.region]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(d,{className:W(l.status),children:[l.status==="approved"&&"Genehmigt",l.status==="pending"&&"Ausstehend",l.status==="submitted"&&"Eingereicht",l.status==="rejected"&&"Abgelehnt",l.status==="withdrawn"&&"ZurÃ¼ckgezogen"]}),e.jsx(d,{variant:"outline",children:l.type.toUpperCase()}),e.jsxs(d,{variant:"outline",children:["Klasse ",l.deviceClass]}),e.jsxs("span",{className:`text-sm ${_(l.priority)}`,children:[l.priority==="high"&&"ðŸ”´ Hohe PrioritÃ¤t",l.priority==="medium"&&"ðŸŸ¡ Mittlere PrioritÃ¤t",l.priority==="low"&&"ðŸŸ¢ Niedrige PrioritÃ¤t"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Antragsteller"}),e.jsx("p",{className:"text-muted-foreground",children:l.applicant})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"ZustÃ¤ndige BehÃ¶rde"}),e.jsx("p",{className:"text-muted-foreground",children:l.authority})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Region/Markt"}),e.jsx("p",{className:"text-muted-foreground",children:l.region})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Kategorie"}),e.jsx("p",{className:"text-muted-foreground capitalize",children:l.category})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Eingereicht am"}),e.jsx("p",{className:"text-muted-foreground",children:new Date(l.submittedDate).toLocaleDateString("de-DE")})]}),l.decisionDate&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Entscheidung am"}),e.jsx("p",{className:"text-muted-foreground",children:new Date(l.decisionDate).toLocaleDateString("de-DE")})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:l.tags.map((s,n)=>e.jsx(d,{variant:"secondary",className:"text-xs",children:s},n))})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Zusammenfassung"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:l.summary})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t",children:[l.url&&e.jsx(A,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(Ae,{className:"h-4 w-4 mr-2"}),"Offizielle Quelle"]})}),e.jsxs(A,{variant:"outline",children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Exportieren"]})]})]})]})})})]})}export{Le as default};
