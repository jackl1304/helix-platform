import{e as U,r as y,aK as z,g as M,j as e,B as o,J as N,k as q,l as $,m as O,n as h,H as x,C as c,a as d,b as m,P as g,c as t,v as r,I as i,N as G,G as H,S}from"./index-Dm22qi9h.js";import{S as v}from"./switch-CWNsPlWW.js";import{C as J}from"./customer-navigation-B5k3fS1T.js";import{C as K}from"./crown-_04pdp79.js";import{U as Z}from"./user-B59OzLQb.js";import{S as u}from"./save-C2frAQoU.js";import"./clipboard-anxMjb0Z.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=U("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),k="030d3e01-32c4-4f95-8d54-98be948e8d4b";function se(){var b;const[j,p]=y.useState({emailAlerts:!0,smsAlerts:!1,weeklyDigest:!0,criticalOnly:!1}),[F,T]=y.useState(!0),{themeSettings:n,setTheme:B,setCompanyLogo:E,setCompanyName:P,getThemeColors:A}=z(),I=A();y.useEffect(()=>()=>{T(!1)},[]);const{data:a,isLoading:L,error:V}=M({queryKey:["/api/customer/tenant",k],queryFn:async()=>{const s=await fetch(`/api/customer/tenant/${k}`);if(!s.ok)throw new Error("Failed to fetch tenant data");return await s.json()},enabled:F,retry:1,staleTime:5*60*1e3}),w=(a==null?void 0:a.customerPermissions)||{dashboard:!0,regulatoryUpdates:!0,legalCases:!0,knowledgeBase:!0,newsletters:!0,analytics:!1,reports:!1,dataCollection:!1,globalSources:!1,historicalData:!1,administration:!1,userManagement:!1,systemSettings:!1,auditLogs:!1,aiInsights:!1,advancedAnalytics:!1};return L?e.jsx("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"animate-pulse space-y-4 p-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})}):V?e.jsx("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900 items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Fehler beim Laden der Einstellungen"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Die Tenant-Daten konnten nicht geladen werden. Bitte versuchen Sie es später erneut."}),e.jsx(o,{onClick:()=>window.location.reload(),children:"Seite neu laden"})]})}):e.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(J,{permissions:w,tenantName:a==null?void 0:a.name}),e.jsx("div",{className:"flex-1 ml-64",children:e.jsxs("div",{className:"container mx-auto p-6 space-y-8 max-w-4xl",children:[e.jsx("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"Einstellungen"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 via-purple-600 to-cyan-700 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:((b=a==null?void 0:a.name)==null?void 0:b.charAt(0))||"M"}),e.jsx("span",{className:"font-medium",children:(a==null?void 0:a.name)||"Customer Portal"})]}),e.jsxs(N,{className:"bg-purple-100 text-purple-800",children:[e.jsx(K,{className:"w-3 h-3 mr-1"}),"Professional Plan"]}),e.jsxs(N,{className:"bg-green-100 text-green-800",children:[e.jsx(q,{className:"w-3 h-3 mr-1"}),"Active"]})]})]})}),e.jsxs($,{defaultValue:"profile",className:"space-y-6",children:[e.jsxs(O,{className:"grid w-full grid-cols-5",children:[e.jsx(h,{value:"profile",children:"Profil"}),e.jsx(h,{value:"themes",children:"Themes"}),e.jsx(h,{value:"notifications",children:"Benachrichtigungen"}),e.jsx(h,{value:"preferences",children:"Präferenzen"}),e.jsx(h,{value:"security",children:"Sicherheit"})]}),e.jsx(x,{value:"profile",className:"space-y-6",children:e.jsxs(c,{children:[e.jsxs(d,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5"}),"Unternehmensinformationen"]}),e.jsx(g,{children:"Verwalten Sie Ihre Unternehmensdaten und Kontaktinformationen"})]}),e.jsxs(t,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"company",children:"Unternehmensname"}),e.jsx(i,{id:"company",defaultValue:(a==null?void 0:a.name)||""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"email",children:"E-Mail-Adresse"}),e.jsx(i,{id:"email",type:"email",defaultValue:(a==null?void 0:a.billingEmail)||""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"industry",children:"Branche"}),e.jsx(i,{id:"industry",defaultValue:"Medizintechnik"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"country",children:"Land"}),e.jsx(i,{id:"country",defaultValue:"Deutschland"})]})]}),e.jsxs(o,{className:"w-full md:w-auto",children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Änderungen speichern"]})]})]})}),e.jsx(x,{value:"themes",className:"space-y-6",children:e.jsx("div",{className:"space-y-6",children:e.jsxs(c,{children:[e.jsxs(d,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5"}),"Corporate Design"]}),e.jsx(g,{children:"Personalisieren Sie Ihr Portal mit Ihrem Unternehmensdesign"})]}),e.jsxs(t,{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["blue","purple","green","teal","orange","slate"].map(s=>e.jsx(c,{className:`cursor-pointer border-2 transition-all hover:shadow-md ${n.theme===s?"border-blue-500 bg-blue-50":"border-gray-200"}`,onClick:()=>B(s),children:e.jsxs(t,{className:"p-4 text-center",children:[e.jsx("div",{className:`w-full h-12 rounded mb-3 bg-gradient-to-r from-${s}-500 via-${s}-600 to-${s}-700`}),e.jsx("h3",{className:"font-medium capitalize",children:s})]})},s))}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"logo-upload",children:"Firmenlogo"}),e.jsx(i,{id:"logo-upload",type:"file",accept:"image/png,image/svg+xml,image/jpeg",onChange:s=>{var C;const l=(C=s.target.files)==null?void 0:C[0];if(l){const f=new FileReader;f.onload=()=>E(f.result),f.readAsDataURL(l)}}}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, SVG oder JPEG (max. 2MB)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"company-name-custom",children:"Firmenname"}),e.jsx(i,{id:"company-name-custom",value:n.companyName,onChange:s=>P(s.target.value),placeholder:"Ihr Firmenname"})]}),e.jsxs(c,{children:[e.jsx(d,{children:e.jsx(m,{children:"Vorschau"})}),e.jsx(t,{children:e.jsx("div",{className:`p-4 rounded-lg bg-gradient-to-r ${I.gradient}`,children:e.jsxs("div",{className:"flex items-center gap-3 text-white",children:[n.companyLogo?e.jsx("img",{src:n.companyLogo,alt:"Logo",className:"h-8 w-8 rounded"}):e.jsx("div",{className:"w-8 h-8 bg-white/20 rounded flex items-center justify-center font-bold",children:n.companyName.charAt(0)||"H"}),e.jsx("span",{className:"font-medium",children:n.companyName})]})})})]}),e.jsxs(o,{onClick:async()=>{localStorage.setItem("customer-theme-settings",JSON.stringify(n));try{await fetch("/api/tenant/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),console.log("Theme saved to server")}catch{console.warn("Server save failed, using localStorage only")}},children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Design speichern"]})]})]})})}),e.jsx(x,{value:"notifications",className:"space-y-6",children:e.jsxs(c,{children:[e.jsxs(d,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5"}),"Benachrichtigungseinstellungen"]}),e.jsx(g,{children:"Konfigurieren Sie, wie und wann Sie Benachrichtigungen erhalten möchten"})]}),e.jsxs(t,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{htmlFor:"email-alerts",children:"E-Mail-Benachrichtigungen"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Erhalten Sie wichtige Updates per E-Mail"})]}),e.jsx(v,{id:"email-alerts",checked:j.emailAlerts,onCheckedChange:s=>p(l=>({...l,emailAlerts:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{htmlFor:"weekly-digest",children:"Wöchentlicher Digest"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Zusammenfassung der wichtigsten Updates"})]}),e.jsx(v,{id:"weekly-digest",checked:j.weeklyDigest,onCheckedChange:s=>p(l=>({...l,weeklyDigest:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{htmlFor:"critical-only",children:"Nur kritische Warnungen"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nur bei wichtigen regulatorischen Änderungen"})]}),e.jsx(v,{id:"critical-only",checked:j.criticalOnly,onCheckedChange:s=>p(l=>({...l,criticalOnly:s}))})]})]}),e.jsxs(o,{className:"w-full md:w-auto",children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Einstellungen speichern"]})]})]})}),e.jsx(x,{value:"preferences",className:"space-y-6",children:e.jsxs(c,{children:[e.jsxs(d,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5"}),"Präferenzen"]}),e.jsx(g,{children:"Personalisieren Sie Ihre Plattform-Erfahrung"})]}),e.jsxs(t,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"language",children:"Sprache"}),e.jsx(i,{id:"language",defaultValue:"Deutsch"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"timezone",children:"Zeitzone"}),e.jsx(i,{id:"timezone",defaultValue:"Europe/Berlin"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"region",children:"Hauptregion"}),e.jsx(i,{id:"region",defaultValue:"Europa"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"updates-frequency",children:"Update-Frequenz"}),e.jsx(i,{id:"updates-frequency",defaultValue:"Täglich"})]})]}),e.jsxs(o,{className:"w-full md:w-auto",children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Präferenzen speichern"]})]})]})}),e.jsx(x,{value:"security",className:"space-y-6",children:e.jsxs(c,{children:[e.jsxs(d,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"Sicherheitseinstellungen"]}),e.jsx(g,{children:"Verwalten Sie Ihre Sicherheits- und Zugriffseinstellungen"})]}),e.jsx(t,{className:"space-y-6",children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Aktuelle Berechtigungen"}),e.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:Object.entries(w).map(([s,l])=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-sm capitalize",children:s.replace(/([A-Z])/g," $1").trim()}),e.jsx(N,{variant:l?"default":"secondary",children:l?"Aktiviert":"Deaktiviert"})]},s))})]}),e.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(S,{className:"w-4 h-4 inline mr-2"}),"Ihre Berechtigungen werden von Ihrem Administrator verwaltet. Wenden Sie sich an Ihren Administrator, um Änderungen anzufordern."]})})]})})]})})]})]})})]})}export{se as default};
