import{U as K,r as v,u as I,f as O,g as R,h as y,j as e,o as B,p as Q,B as c,q as L,s as V,t as H,O as $,v as l,I as o,w as u,x as g,y as m,z as x,E as a,a6 as J,C as p,a as f,b as N,P as b,c as j,J as S,G as W,M as Y,k as X,K as Z,N as ee}from"./index-Dm22qi9h.js";import{P as se}from"./plus-gaIGr6ZR.js";import{K as C}from"./key-DDW1IMqW.js";import{S as te}from"./square-pen-BRq2if-8.js";import{T as re}from"./trash-2-2KpnWBrB.js";function he(){var M,F,T;const{t}=K(),[ie,ne]=v.useState(null),[E,h]=v.useState(!1),[i,n]=v.useState({}),{toast:d}=I(),k=O(),q=[{name:"MedTech Dive",url:"https://www.medtechdive.com/",description:"TÃ¤gliche Nachrichten und Analysen fÃ¼r FachkrÃ¤fte der Medizintechnik-Branche",category:"industry_newsletter",region:"Global",language:"en",priority:"high",requiresAuth:!0,rssUrl:"https://www.medtechdive.com/feeds/news/",status:"pending"},{name:"MedTech Europe Monthly",url:"https://www.medtecheurope.org/medtech-views/newsletters/",description:"Monatliche Newsletter mit umfassender Berichterstattung Ã¼ber den Medizintechniksektor",category:"regulatory_newsletter",region:"Europe",language:"en",priority:"high",requiresAuth:!0,status:"pending"},{name:"Citeline Medtech Insight",url:"https://insights.citeline.com/medtech-insight/",description:"Globale Medtech-Nachrichten und Einblicke - Premium Content",category:"industry_newsletter",region:"Global",language:"en",priority:"high",requiresAuth:!0,status:"pending"},{name:"MedTech World News",url:"https://med-tech.world/news/",description:"Aktuelle Nachrichten, Fortschritte, Veranstaltungen und Einblicke in die Medizintechnik",category:"industry_newsletter",region:"Global",language:"en",priority:"medium",requiresAuth:!1,rssUrl:"https://med-tech.world/feed/",status:"active"},{name:"EY MedTech Pulse Reports",url:"https://www.ey.com/en_us/life-sciences/pulse-of-medtech-industry-outlook",description:"JÃ¤hrliche Branchenberichte und Trends der MedTech-Industrie",category:"industry_newsletter",region:"Global",language:"en",priority:"high",requiresAuth:!0,status:"pending"},{name:"Deloitte MedTech Insights",url:"https://www2.deloitte.com/us/en/pages/life-sciences-and-health-care/articles/medtech-industry-trends.html",description:"Strategische Einblicke und Trends der MedTech-Branche",category:"industry_newsletter",region:"Global",language:"en",priority:"high",requiresAuth:!0,status:"pending"},{name:"WHO Medical Device Updates",url:"https://apps.who.int/iris/handle/10665/42744",description:"Globale Richtlinien und Regulierung von Medizinprodukten",category:"regulatory_newsletter",region:"Global",language:"en",priority:"high",requiresAuth:!1,rssUrl:"https://www.who.int/rss-feeds/news-releases",status:"active"},{name:"Medical Design & Outsourcing",url:"https://www.medicaldesignandoutsourcing.com/",description:"Medizinprodukt-Design und Fertigung News",category:"industry_newsletter",region:"Global",language:"en",priority:"medium",requiresAuth:!0,status:"pending"},{name:"MedDevice Online",url:"https://www.meddeviceonline.com/",description:"Medizinprodukt-Nachrichten und Technologie-Updates",category:"industry_newsletter",region:"Global",language:"en",priority:"medium",requiresAuth:!0,status:"pending"},{name:"Regulatory Affairs Professionals Society (RAPS)",url:"https://www.raps.org/",description:"Regulatory Affairs News und Best Practices",category:"regulatory_newsletter",region:"Global",language:"en",priority:"high",requiresAuth:!0,status:"pending"}],{data:w=[],isLoading:G}=R({queryKey:["/api/newsletter/sources"]}),A=y({mutationFn:s=>fetch("/api/newsletter/sources",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(r=>r.json()),onSuccess:()=>{d({title:t("newsletter.sourceSaved"),description:t("newsletter.sourceSavedDesc")}),k.invalidateQueries({queryKey:["/api/newsletter/sources"]}),h(!1),n({})},onError:()=>{d({title:t("common.error"),description:t("newsletter.sourceSaveError"),variant:"destructive"})}}),U=y({mutationFn:s=>fetch(`/api/newsletter/sources/${s}`,{method:"DELETE"}),onSuccess:()=>{d({title:t("newsletter.sourceDeleted"),description:t("newsletter.sourceDeletedDesc")}),k.invalidateQueries({queryKey:["/api/newsletter/sources"]})}}),D=y({mutationFn:s=>fetch(`/api/newsletter/sources/${s}/test`,{method:"POST"}).then(r=>r.json()),onSuccess:s=>{d({title:t("newsletter.testSuccess"),description:`${t("newsletter.connectionSuccess")} ${s.articlesFound||0} ${t("newsletter.articlesFound")}.`})},onError:()=>{d({title:t("newsletter.testFailed"),description:t("newsletter.connectionFailed"),variant:"destructive"})}}),_=s=>{n(s),h(!0)},z=()=>{if(!i.name||!i.url){d({title:t("common.error"),description:t("newsletter.nameUrlRequired"),variant:"destructive"});return}A.mutate(i)};return e.jsxs("div",{className:"container mx-auto p-6 space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:["ðŸ“§ ",t("newsletter.title")]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:t("newsletter.subtitle")})]}),e.jsxs(B,{open:E,onOpenChange:h,children:[e.jsx(Q,{asChild:!0,children:e.jsxs(c,{className:"bg-[#d95d2c] hover:bg-[#b8441f]",children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),t("newsletter.addSource")]})}),e.jsxs(L,{className:"max-w-2xl",children:[e.jsxs(V,{children:[e.jsx(H,{children:t("newsletter.configureSource")}),e.jsx($,{children:t("newsletter.configureSourceDesc")})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"name",children:t("common.name")}),e.jsx(o,{id:"name",value:i.name||"",onChange:s=>n(r=>({...r,name:s.target.value})),placeholder:t("newsletter.namePlaceholder")})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"category",children:t("common.category")}),e.jsxs(u,{value:i.category,onValueChange:s=>n(r=>({...r,category:s})),children:[e.jsx(g,{children:e.jsx(m,{placeholder:t("newsletter.selectCategory")})}),e.jsxs(x,{children:[e.jsx(a,{value:"industry_newsletter",children:t("newsletter.industryNewsletter")}),e.jsx(a,{value:"regulatory_newsletter",children:t("newsletter.regulatoryNewsletter")})]})]})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"url",children:t("newsletter.websiteUrl")}),e.jsx(o,{id:"url",value:i.url||"",onChange:s=>n(r=>({...r,url:s.target.value})),placeholder:t("newsletter.urlPlaceholder")})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"rssUrl",children:t("newsletter.rssFeedUrl")}),e.jsx(o,{id:"rssUrl",value:i.rssUrl||"",onChange:s=>n(r=>({...r,rssUrl:s.target.value})),placeholder:t("newsletter.rssPlaceholder")})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"description",children:t("newsletter.description")}),e.jsx(J,{id:"description",value:i.description||"",onChange:s=>n(r=>({...r,description:s.target.value})),placeholder:t("newsletter.descriptionPlaceholder")})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"region",children:"Region"}),e.jsxs(u,{value:i.region,onValueChange:s=>n(r=>({...r,region:s})),children:[e.jsx(g,{children:e.jsx(m,{placeholder:"Region"})}),e.jsxs(x,{children:[e.jsx(a,{value:"Global",children:"Global"}),e.jsx(a,{value:"Europe",children:"Europa"}),e.jsx(a,{value:"USA",children:"USA"}),e.jsx(a,{value:"Germany",children:"Deutschland"})]})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"language",children:"Sprache"}),e.jsxs(u,{value:i.language,onValueChange:s=>n(r=>({...r,language:s})),children:[e.jsx(g,{children:e.jsx(m,{placeholder:"Sprache"})}),e.jsxs(x,{children:[e.jsx(a,{value:"de",children:"Deutsch"}),e.jsx(a,{value:"en",children:"English"})]})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"priority",children:"PrioritÃ¤t"}),e.jsxs(u,{value:i.priority,onValueChange:s=>n(r=>({...r,priority:s})),children:[e.jsx(g,{children:e.jsx(m,{placeholder:"PrioritÃ¤t"})}),e.jsxs(x,{children:[e.jsx(a,{value:"high",children:"Hoch"}),e.jsx(a,{value:"medium",children:"Mittel"}),e.jsx(a,{value:"low",children:"Niedrig"})]})]})]})]}),i.requiresAuth&&e.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),"Anmeldedaten (optional)"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"email",children:"E-Mail"}),e.jsx(o,{id:"email",type:"email",value:((M=i.credentials)==null?void 0:M.email)||"",onChange:s=>n(r=>({...r,credentials:{...r.credentials,email:s.target.value}})),placeholder:"newsletter@beispiel.com"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"password",children:"Passwort"}),e.jsx(o,{id:"password",type:"password",value:((F=i.credentials)==null?void 0:F.password)||"",onChange:s=>n(r=>({...r,credentials:{...r.credentials,password:s.target.value}})),placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"apiKey",children:"API-SchlÃ¼ssel (falls vorhanden)"}),e.jsx(o,{id:"apiKey",value:((T=i.credentials)==null?void 0:T.apiKey)||"",onChange:s=>n(r=>({...r,credentials:{...r.credentials,apiKey:s.target.value}})),placeholder:"api_key_here..."})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(c,{variant:"outline",onClick:()=>h(!1),children:"Abbrechen"}),e.jsx(c,{onClick:z,disabled:A.isPending,className:"bg-[#d95d2c] hover:bg-[#b8441f]",children:"Speichern"})]})]})]})]}),e.jsxs(p,{children:[e.jsxs(f,{children:[e.jsx(N,{children:"Authentische Newsletter-Quellen"}),e.jsx(b,{children:"Empfohlene MedTech-Newsletter fÃ¼r die Wissensdatenbank"})]}),e.jsx(j,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:q.map((s,r)=>{var P;return e.jsxs(p,{className:"border-l-4 border-l-[#d95d2c]",children:[e.jsxs(f,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(N,{className:"text-lg",children:s.name}),e.jsx(S,{variant:s.priority==="high"?"destructive":"secondary",children:s.priority==="high"?"Hoch":"Mittel"})]}),e.jsx(b,{className:"text-sm",children:s.description})]}),e.jsx(j,{className:"pt-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(W,{className:"h-3 w-3"}),s.region," â€¢ ",(P=s.language)==null?void 0:P.toUpperCase(),s.requiresAuth&&e.jsx(C,{className:"h-3 w-3 ml-2 text-orange-500"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{size:"sm",variant:"outline",onClick:()=>window.open(s.url,"_blank"),children:e.jsx(Y,{className:"h-3 w-3"})}),e.jsx(c,{size:"sm",onClick:()=>_(s),className:"bg-[#d95d2c] hover:bg-[#b8441f]",children:"HinzufÃ¼gen"})]})]})})]},r)})})})]}),e.jsxs(p,{children:[e.jsxs(f,{children:[e.jsxs(N,{children:["Konfigurierte Newsletter-Quellen (",w.length,")"]}),e.jsx(b,{children:"Verwalten Sie Ihre aktiven Newsletter-Abonnements und Anmeldedaten"})]}),e.jsx(j,{children:G?e.jsx("div",{className:"text-center py-8",children:"Lade Newsletter-Quellen..."}):w.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Noch keine Newsletter-Quellen konfiguriert. FÃ¼gen Sie eine der empfohlenen Quellen hinzu."}):e.jsx("div",{className:"space-y-4",children:w.map(s=>e.jsx(p,{children:e.jsx(j,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsx(S,{variant:s.status==="active"?"default":"secondary",children:s.status==="active"?e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"h-3 w-3 mr-1"}),"Aktiv"]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"h-3 w-3 mr-1"}),"Inaktiv"]})}),s.requiresAuth&&e.jsxs(S,{variant:"outline",children:[e.jsx(C,{className:"h-3 w-3 mr-1"}),"Anmeldung erforderlich"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsx("span",{children:s.region}),e.jsx("span",{children:s.category}),s.lastSync&&e.jsxs("span",{children:["Letzte Sync: ",new Date(s.lastSync).toLocaleDateString("de-DE")]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(c,{size:"sm",variant:"outline",onClick:()=>D.mutate(s.id),disabled:D.isPending,children:[e.jsx(ee,{className:"h-3 w-3 mr-1"}),"Test"]}),e.jsx(c,{size:"sm",variant:"outline",onClick:()=>{n(s),h(!0)},children:e.jsx(te,{className:"h-3 w-3"})}),e.jsx(c,{size:"sm",variant:"outline",onClick:()=>U.mutate(s.id),children:e.jsx(re,{className:"h-3 w-3"})})]})]})})},s.id))})})]})]})}export{he as default};
