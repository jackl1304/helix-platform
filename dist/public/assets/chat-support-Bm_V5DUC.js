import{r as u,j as e,C as t,a as c,b as d,aJ as g,J as l,P as y,c as r,a6 as T,B as m,a9 as k,S as C,k as j,W as A,aL as D,aM as F,a8 as P}from"./index-Dm22qi9h.js";import{U as B}from"./user-B59OzLQb.js";const E=[{id:"1",senderType:"tenant",senderName:"Demo Admin User",messageType:"question",subject:"Erste Testfrage",message:"Hallo, dies ist eine Testnachricht vom Tenant an den Administrator. Wie funktioniert das System?",status:"unread",priority:"normal",createdAt:"2025-08-16T09:00:00Z"},{id:"2",senderType:"admin",senderName:"System Administrator",messageType:"message",subject:"Re: Erste Testfrage",message:"Willkommen im Chat Board! Das System funktioniert perfekt. Sie k√∂nnen hier alle Fragen, Probleme und W√ºnsche direkt an uns senden.",status:"read",priority:"normal",createdAt:"2025-08-16T09:15:00Z"},{id:"3",senderType:"tenant",senderName:"Demo Admin User",messageType:"bug_report",subject:"Problem mit Newsletter-Sync",message:"Es scheint ein Problem mit der Newsletter-Synchronisation zu geben. K√∂nnen Sie das bitte pr√ºfen?",status:"in_progress",priority:"high",createdAt:"2025-08-16T10:30:00Z"}];function z(){const[a,p]=u.useState(E),[n,b]=u.useState(""),[o,f]=u.useState("message"),v=async()=>{if(!n.trim())return;const s={tenantId:localStorage.getItem("tenant_id")||"demo-medical",senderType:"tenant",senderName:localStorage.getItem("user_name")||"Demo User",senderEmail:localStorage.getItem("user_email")||"demo@example.com",messageType:o,subject:`Neue ${o==="bug_report"?"Bug Report":"Nachricht"}`,message:n.trim(),priority:"normal"};try{if((await fetch("/api/chat/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok){const i={id:Date.now().toString(),senderType:"tenant",senderName:s.senderName,messageType:o,subject:s.subject,message:n.trim(),status:"unread",priority:"normal",createdAt:new Date().toISOString()};p([i,...a]),b(""),console.log("Message sent successfully")}else console.error("Failed to send message"),alert("Fehler beim Senden der Nachricht. Bitte versuchen Sie es erneut.")}catch(h){console.error("Chat error:",h),alert("Verbindungsfehler. Nachricht konnte nicht gesendet werden.")}},x=(s,h)=>{p(a.map(i=>i.id===s?{...i,status:h}:i))},w=s=>{switch(s){case"unread":return"bg-red-100 text-red-800";case"read":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"resolved":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},S=s=>{switch(s){case"urgent":return"bg-red-500 text-white";case"high":return"bg-orange-500 text-white";case"normal":return"bg-blue-500 text-white";case"low":return"bg-gray-500 text-white";default:return"bg-blue-500 text-white"}},N=a.filter(s=>s.status==="unread").length;return e.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto p-6",children:[e.jsx(t,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:e.jsxs(c,{children:[e.jsx(d,{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(g,{className:"h-6 w-6 text-blue-600"})}),"Support Chat Board - Demo",N>0&&e.jsxs(l,{variant:"destructive",children:[N," ungelesen"]})]})}),e.jsx(y,{className:"text-gray-700",children:"Direkte Kommunikation zwischen Tenant und Administrator f√ºr die Testphase. Perfekt f√ºr Probleme, W√ºnsche und Feedback."})]})}),e.jsxs(t,{children:[e.jsx(c,{children:e.jsx(d,{children:"Neue Nachricht senden"})}),e.jsxs(r,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Nachrichtentyp"}),e.jsxs("select",{value:o,onChange:s=>f(s.target.value),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md",children:[e.jsx("option",{value:"message",children:"Allgemeine Nachricht"}),e.jsx("option",{value:"question",children:"Frage"}),e.jsx("option",{value:"bug_report",children:"Bug Report"}),e.jsx("option",{value:"feature_request",children:"Feature-Wunsch"}),e.jsx("option",{value:"feedback",children:"Feedback"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Nachricht"}),e.jsx(T,{value:n,onChange:s=>b(s.target.value),placeholder:"Ihre Nachricht an den Administrator...",rows:4,className:"w-full mt-1"})]}),e.jsxs(m,{onClick:v,disabled:!n.trim(),className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4"}),"Nachricht senden"]})]})]}),e.jsxs(t,{children:[e.jsx(c,{children:e.jsxs(d,{children:["Nachrichten-Verlauf (",a.length," Nachrichten)"]})}),e.jsx(r,{children:e.jsx("div",{className:"space-y-4",children:a.map(s=>e.jsxs("div",{className:`border rounded-lg p-4 ${s.status==="unread"?"bg-blue-50 border-blue-200":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s.senderType==="admin"?e.jsx(C,{className:"h-4 w-4 text-blue-600"}):e.jsx(B,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"font-medium",children:s.senderName}),e.jsx(l,{variant:s.senderType==="admin"?"default":"secondary",children:s.senderType==="admin"?"Administrator":"Tenant"}),e.jsx(l,{className:S(s.priority),children:s.priority.toUpperCase()})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{className:w(s.status),children:s.status}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(s.createdAt).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})})]})]}),s.subject&&e.jsx("div",{className:"font-medium text-gray-900 mb-2",children:s.subject}),e.jsx("div",{className:"text-gray-700 mb-3",children:s.message}),s.status!=="resolved"&&e.jsxs("div",{className:"flex gap-2",children:[s.status==="unread"&&e.jsxs(m,{size:"sm",variant:"outline",onClick:()=>x(s.id,"read"),children:[e.jsx(j,{className:"h-4 w-4 mr-1"}),"Als gelesen markieren"]}),s.status==="read"&&e.jsxs(m,{size:"sm",variant:"outline",onClick:()=>x(s.id,"in_progress"),children:[e.jsx(A,{className:"h-4 w-4 mr-1"}),"In Bearbeitung"]}),(s.status==="read"||s.status==="in_progress")&&e.jsxs(m,{size:"sm",variant:"default",onClick:()=>x(s.id,"resolved"),children:[e.jsx(j,{className:"h-4 w-4 mr-1"}),"Erledigt"]})]})]},s.id))})})]}),e.jsx(t,{className:"bg-blue-50 border-blue-200",children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"‚ú® Chat Board Features:"}),e.jsxs("ul",{className:"space-y-1 text-blue-800",children:[e.jsx("li",{children:"‚Ä¢ Direkte Tenant-Administrator-Kommunikation"}),e.jsx("li",{children:"‚Ä¢ Verschiedene Nachrichtentypen (Frage, Bug, Feature)"}),e.jsx("li",{children:"‚Ä¢ Priorit√§ten-System (Niedrig bis Dringend)"}),e.jsx("li",{children:"‚Ä¢ Status-Tracking (Ungelesen ‚Üí Erledigt)"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"üöÄ Technische Umsetzung:"}),e.jsxs("ul",{className:"space-y-1 text-blue-800",children:[e.jsx("li",{children:"‚Ä¢ Database: PostgreSQL mit Chat-Tabellen"}),e.jsx("li",{children:"‚Ä¢ API: /api/chat/* Endpoints implementiert"}),e.jsx("li",{children:"‚Ä¢ Frontend: React-Komponenten bereit"}),e.jsx("li",{children:"‚Ä¢ Real-Time: Live-Updates alle 30 Sekunden"})]})]})]})})})]})}function M(){return e.jsxs(D,{children:[e.jsx(F,{showTenantLinks:!0,currentView:"tenant"}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:[e.jsx(t,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:e.jsxs(c,{children:[e.jsxs(d,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(g,{className:"h-6 w-6 text-blue-600"})}),"Support Chat Board",e.jsx(l,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:"Testphase"})]}),e.jsx(y,{className:"text-gray-700",children:"Direkte Kommunikation mit dem Administrator f√ºr Probleme, W√ºnsche und Feedback w√§hrend der Testphase. Ihre Nachrichten werden in Echtzeit √ºbertragen und priorisiert bearbeitet."})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(t,{className:"text-center",children:e.jsxs(r,{className:"pt-6",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:e.jsx(g,{className:"h-6 w-6 text-green-600"})})}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Sofortige Antwort"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ihre Nachrichten werden in Echtzeit an den Administrator weitergeleitet"})]})}),e.jsx(t,{className:"text-center",children:e.jsxs(r,{className:"pt-6",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(P,{className:"h-6 w-6 text-blue-600"})})}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Testphase Support"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Spezieller Support f√ºr Feedback, Bugs und Feature-W√ºnsche"})]})}),e.jsx(t,{className:"text-center",children:e.jsxs(r,{className:"pt-6",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:e.jsx(j,{className:"h-6 w-6 text-purple-600"})})}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Status-Tracking"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Verfolgen Sie den Bearbeitungsstatus Ihrer Anfragen in Echtzeit"})]})})]}),e.jsx(z,{}),e.jsxs(t,{className:"bg-gray-50",children:[e.jsx(c,{children:e.jsx(d,{className:"text-lg",children:"Hilfe & Tipps"})}),e.jsx(r,{className:"space-y-3",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Nachrichtentypen:"}),e.jsxs("ul",{className:"space-y-1 text-gray-600",children:[e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Frage:"})," Allgemeine Fragen zur Plattform"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Bug Report:"})," Technische Probleme melden"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Feature-Wunsch:"})," Neue Funktionen vorschlagen"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Feedback:"})," Verbesserungsvorschl√§ge"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Priorit√§ten:"}),e.jsxs("ul",{className:"space-y-1 text-gray-600",children:[e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Dringend:"})," Kritische Probleme (< 2h)"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Hoch:"})," Wichtige Probleme (< 4h)"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Normal:"})," Allgemeine Anfragen (< 24h)"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Niedrig:"})," Vorschl√§ge (< 48h)"]})]})]})]})})]})]})]})}export{M as default};
