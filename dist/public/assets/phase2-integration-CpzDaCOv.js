import{u as $,f as B,r as z,g as R,h as x,j as e,C as c,a as r,b as t,Z as A,P as o,c as d,B as m,_ as h,J as j,l as H,m as J,n as y,H as b,D as w,W as F,k as P,aq as I,G as f,R as u}from"./index-Dm22qi9h.js";import{N as M}from"./network-DZBZpOAc.js";import{M as Z}from"./map-pin-DFKBPkdp.js";function ee(){var C;const{toast:i}=$(),v=B(),[n,a]=z.useState(null),{data:V,isLoading:W}=R({queryKey:["/api/phase2/status"],refetchInterval:6e4}),{data:l,isLoading:U}=R({queryKey:["/api/regional/authorities-status"],refetchInterval:6e4}),T=x({mutationFn:()=>u("/api/eudamed/sync-devices","POST"),onSuccess:()=>{i({title:"EUDAMED Device Sync",description:"Successfully synced EUDAMED device registrations"}),v.invalidateQueries({queryKey:["/api/dashboard/stats"]}),a(null)},onError:s=>{i({title:"EUDAMED Device Sync Failed",description:s.message,variant:"destructive"}),a(null)}}),k=x({mutationFn:()=>u("/api/eudamed/sync-incidents","POST"),onSuccess:()=>{i({title:"EUDAMED Incident Sync",description:"Successfully synced EUDAMED incident reports"}),v.invalidateQueries({queryKey:["/api/dashboard/stats"]}),a(null)},onError:s=>{i({title:"EUDAMED Incident Sync Failed",description:s.message,variant:"destructive"}),a(null)}}),O=x({mutationFn:()=>u("/api/eudamed/sync-all","POST"),onSuccess:()=>{i({title:"Complete EUDAMED Sync",description:"Successfully synced all EUDAMED data sources"}),v.invalidateQueries({queryKey:["/api/dashboard/stats"]}),a(null)},onError:s=>{i({title:"Complete EUDAMED Sync Failed",description:s.message,variant:"destructive"}),a(null)}}),q=x({mutationFn:()=>u("/api/crossref/map-devices","POST"),onSuccess:s=>{i({title:"Device Mapping",description:`Created ${s.count} device mappings across jurisdictions`}),a(null)},onError:s=>{i({title:"Device Mapping Failed",description:s.message,variant:"destructive"}),a(null)}}),L=x({mutationFn:()=>u("/api/crossref/map-standards","POST"),onSuccess:s=>{i({title:"Standards Mapping",description:`Mapped ${s.count} standards to regulations`}),a(null)},onError:s=>{i({title:"Standards Mapping Failed",description:s.message,variant:"destructive"}),a(null)}}),N=x({mutationFn:()=>u("/api/crossref/comprehensive","POST"),onSuccess:s=>{i({title:"Comprehensive Cross-Reference",description:`Generated ${s.totalMappings} total cross-references`}),a(null)},onError:s=>{i({title:"Comprehensive Cross-Reference Failed",description:s.message,variant:"destructive"}),a(null)}}),K=x({mutationFn:()=>u("/api/regional/sync-all","POST"),onSuccess:()=>{i({title:"Regional Sync",description:"Successfully synced all regional authorities"}),v.invalidateQueries({queryKey:["/api/regional/authorities-status"]}),a(null)},onError:s=>{i({title:"Regional Sync Failed",description:s.message,variant:"destructive"}),a(null)}}),S=x({mutationFn:s=>u(`/api/regional/sync/${s}`,"POST"),onSuccess:(s,g)=>{i({title:"Regional Authority Sync",description:`Successfully synced ${g}`}),v.invalidateQueries({queryKey:["/api/regional/authorities-status"]})},onError:s=>{i({title:"Regional Authority Sync Failed",description:s.message,variant:"destructive"})}}),E=x({mutationFn:()=>u("/api/phase2/sync-all","POST"),onSuccess:s=>{i({title:"Phase 2 Complete Sync",description:s.message}),v.invalidateQueries({queryKey:["/api/dashboard/stats"]}),a(null)},onError:s=>{i({title:"Phase 2 Sync Failed",description:s.message,variant:"destructive"}),a(null)}}),p=(s,g,...D)=>{a(s),D.length>0?g.mutate(D[0]):g.mutate()},Q=s=>({Asia:"bg-blue-500",Europe:"bg-green-500","Middle East":"bg-yellow-500",Africa:"bg-purple-500","North America":"bg-red-500","South America":"bg-orange-500"})[s]||"bg-gray-500",G=s=>{switch(s){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Phase 2 Strategic Extensions"}),e.jsx("p",{className:"text-muted-foreground",children:"EUDAMED Integration, Cross-Reference Engine, and Regional Expansion"})]}),e.jsxs(c,{className:"mb-6",children:[e.jsxs(r,{children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),"Phase 2 Master Control"]}),e.jsx(o,{children:"Execute comprehensive Phase 2 strategic extensions"})]}),e.jsxs(d,{children:[e.jsx(m,{onClick:()=>p("phase2-complete",E),disabled:!!n,className:"w-full",children:n==="phase2-complete"?e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"mr-2 h-4 w-4 animate-spin"}),"Running Complete Phase 2 Sync..."]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Execute Complete Phase 2 Sync"]})}),E.data&&e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800",children:"Phase 2 Results:"}),e.jsx("div",{className:"text-sm text-blue-700 mt-2 space-y-1",children:(C=E.data.results)==null?void 0:C.map((s,g)=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[s.service,":"]}),e.jsx(j,{variant:s.status==="fulfilled"?"default":"destructive",children:s.status})]},g))})]})]})]}),e.jsxs(H,{defaultValue:"eudamed",className:"space-y-6",children:[e.jsxs(J,{className:"grid w-full grid-cols-4",children:[e.jsx(y,{value:"eudamed",children:"EUDAMED"}),e.jsx(y,{value:"crossref",children:"Cross-Reference"}),e.jsx(y,{value:"regional",children:"Regional Expansion"}),e.jsx(y,{value:"overview",children:"Overview"})]}),e.jsxs(b,{value:"eudamed",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(c,{children:[e.jsxs(r,{children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5"}),"Device Registrations"]}),e.jsx(o,{children:"Sync EU MDR device registrations from EUDAMED"})]}),e.jsx(d,{children:e.jsx(m,{onClick:()=>p("eudamed-devices",T),disabled:!!n,className:"w-full",children:n==="eudamed-devices"?e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"mr-2 h-4 w-4 animate-spin"}),"Syncing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Sync Device Registrations"]})})})]}),e.jsxs(c,{children:[e.jsxs(r,{children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),"Incident Reports"]}),e.jsx(o,{children:"Sync incident reports and safety alerts from EUDAMED"})]}),e.jsx(d,{children:e.jsx(m,{onClick:()=>p("eudamed-incidents",k),disabled:!!n,className:"w-full",children:n==="eudamed-incidents"?e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"mr-2 h-4 w-4 animate-spin"}),"Syncing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),"Sync Incident Reports"]})})})]}),e.jsxs(c,{children:[e.jsxs(r,{children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5"}),"Complete EUDAMED"]}),e.jsx(o,{children:"Comprehensive sync of all EUDAMED data sources"})]}),e.jsx(d,{children:e.jsx(m,{onClick:()=>p("eudamed-complete",O),disabled:!!n,className:"w-full",children:n==="eudamed-complete"?e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"mr-2 h-4 w-4 animate-spin"}),"Syncing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),"Complete EUDAMED Sync"]})})})]})]}),e.jsxs(c,{children:[e.jsxs(r,{children:[e.jsx(t,{children:"EUDAMED Information"}),e.jsx(o,{children:"EU Database on Medical Devices - Critical for EU market access"})]}),e.jsx(d,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Device Classes"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsx("li",{children:"• Class I (Low Risk)"}),e.jsx("li",{children:"• Class IIa (Medium-Low Risk)"}),e.jsx("li",{children:"• Class IIb (Medium-High Risk)"}),e.jsx("li",{children:"• Class III (High Risk)"})]})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Data Types"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsx("li",{children:"• Device Registrations"}),e.jsx("li",{children:"• UDI Database"}),e.jsx("li",{children:"• Clinical Evidence"}),e.jsx("li",{children:"• Post-Market Surveillance"})]})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Compliance"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsx("li",{children:"• EU MDR Requirements"}),e.jsx("li",{children:"• Notified Body Assessment"}),e.jsx("li",{children:"• CE Marking Process"}),e.jsx("li",{children:"• Authorized Representatives"})]})]})]})})]})]}),e.jsxs(b,{value:"crossref",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(c,{children:[e.jsxs(r,{children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-5 w-5"}),"Device Mapping"]}),e.jsx(o,{children:"Map devices across multiple jurisdictions"})]}),e.jsx(d,{children:e.jsx(m,{onClick:()=>p("device-mapping",q),disabled:!!n,className:"w-full",children:n==="device-mapping"?e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"mr-2 h-4 w-4 animate-spin"}),"Mapping..."]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),"Map Devices"]})})})]}),e.jsxs(c,{children:[e.jsxs(r,{children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-5 w-5"}),"Standards Mapping"]}),e.jsx(o,{children:"Link ISO/IEC standards to regulations"})]}),e.jsx(d,{children:e.jsx(m,{onClick:()=>p("standards-mapping",L),disabled:!!n,className:"w-full",children:n==="standards-mapping"?e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"mr-2 h-4 w-4 animate-spin"}),"Mapping..."]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),"Map Standards"]})})})]}),e.jsxs(c,{children:[e.jsxs(r,{children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-5 w-5"}),"Comprehensive Cross-Ref"]}),e.jsx(o,{children:"Generate complete cross-reference database"})]}),e.jsx(d,{children:e.jsx(m,{onClick:()=>p("comprehensive-crossref",N),disabled:!!n,className:"w-full",children:n==="comprehensive-crossref"?e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"Generate Cross-Ref"]})})})]})]}),N.data&&e.jsxs(c,{children:[e.jsx(r,{children:e.jsx(t,{children:"Cross-Reference Results"})}),e.jsx(d,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:N.data.deviceMappings.length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Device Mappings"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:N.data.standardMappings.length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Standard Mappings"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:N.data.clinicalMappings.length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Clinical Links"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:N.data.totalMappings}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Mappings"})]})]})})]})]}),e.jsxs(b,{value:"regional",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs(c,{children:[e.jsxs(r,{children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-5 w-5"}),"Sync All Regions"]}),e.jsx(o,{children:"Synchronize data from all regional authorities"})]}),e.jsx(d,{children:e.jsx(m,{onClick:()=>p("regional-all",K),disabled:!!n,className:"w-full",children:n==="regional-all"?e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"mr-2 h-4 w-4 animate-spin"}),"Syncing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"Sync All Regional Authorities"]})})})]}),e.jsxs(c,{children:[e.jsxs(r,{children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5"}),"Regional Coverage"]}),e.jsx(o,{children:"Monitoring authorities across 4 continents"})]}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Active Authorities"}),e.jsx(j,{variant:"outline",children:(l==null?void 0:l.filter(s=>s.active).length)||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Regions"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:new Set(l==null?void 0:l.map(s=>s.region)).size||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"API Endpoints"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:(l==null?void 0:l.filter(s=>s.hasAPI).length)||0})]})]})})]})]}),e.jsxs(c,{children:[e.jsxs(r,{children:[e.jsx(t,{children:"Regional Authorities Status"}),e.jsx(o,{children:"Current status of all configured regional authorities"})]}),e.jsx(d,{children:U?e.jsx("div",{className:"text-center py-4",children:"Loading regional authorities..."}):l&&l.length>0?e.jsx("div",{className:"space-y-4",children:l.map(s=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${Q(s.region)}`}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.country," - ",s.region]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:G(s.priority),children:s.priority}),e.jsx(j,{variant:s.active?"default":"secondary",children:s.active?"Active":"Inactive"}),e.jsx(m,{size:"sm",onClick:()=>S.mutate(s.id),disabled:S.isPending,children:S.isPending?e.jsx(h,{className:"h-3 w-3 animate-spin"}):e.jsx(e.Fragment,{children:"Sync"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Data Types:"}),e.jsxs("div",{className:"text-muted-foreground",children:[s.dataTypes.length," types"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"API:"}),e.jsx("div",{className:"text-muted-foreground",children:s.hasAPI?"Available":"RSS Only"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"RSS Feeds:"}),e.jsxs("div",{className:"text-muted-foreground",children:[s.rssFeeds," feeds"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Priority:"}),e.jsx("div",{className:"text-muted-foreground",children:s.priority})]})]})]},s.id))}):e.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No regional authorities configured"})})]})]}),e.jsx(b,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(c,{children:[e.jsx(r,{children:e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5"}),"EUDAMED Integration"]})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Device Registrations"}),e.jsx(j,{variant:"outline",children:"EU MDR"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Incident Reports"}),e.jsx(j,{variant:"outline",children:"Active"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Data Source"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"European Commission"})]})]})})]}),e.jsxs(c,{children:[e.jsx(r,{children:e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-5 w-5"}),"Cross-Reference Engine"]})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Device Mapping"}),e.jsx(j,{variant:"outline",children:"Multi-Jurisdiction"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Standards Linking"}),e.jsx(j,{variant:"outline",children:"ISO/IEC"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Timeline Generation"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Automated"})]})]})})]}),e.jsxs(c,{children:[e.jsx(r,{children:e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-5 w-5"}),"Regional Expansion"]})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Authorities"}),e.jsx(j,{variant:"outline",children:(l==null?void 0:l.length)||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Regions"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Asia, MENA, Africa"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Coverage"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Global"})]})]})})]})]})})]})]})}export{ee as default};
