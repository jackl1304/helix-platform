import{u as b,r as m,g as w,j as e,d as k,C as l,a as n,b as r,a0 as C,c,a6 as A,B as S,a7 as z,J as d,aj as g,a1 as T,V as E,k as j,W as I,ak as u,S as R,R as B}from"./index-Dm22qi9h.js";import{T as L}from"./target-D1Y3eE8V.js";function D(){const{toast:x}=b(),[i,y]=m.useState(""),[o,h]=m.useState(!1),[s,p]=m.useState(null),[K,F]=m.useState("analysis"),{data:V,isLoading:q}=w({queryKey:["/api/ai-insights"],queryFn:()=>fetch("/api/ai-insights").then(a=>a.json())}),N=async()=>{if(!i.trim()){x({title:"Fehler",description:"Bitte geben Sie Inhalt zum Analysieren ein.",variant:"destructive"});return}h(!0);try{const a=await B("/api/ai/analyze-content","POST",{content:i.trim(),contentType:"regulatory"});p(a.data),x({title:"Analyse abgeschlossen",description:a.message||"AI-Analyse erfolgreich durchgefÃ¼hrt"})}catch(a){console.error("AI Content Analysis failed:",a),x({title:"Analyse fehlgeschlagen",description:a.message||"Ein Fehler ist aufgetreten",variant:"destructive"})}finally{h(!1)}},f=a=>{switch(a.toLowerCase()){case"critical":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-gray-500"}},v=a=>{switch(a.toLowerCase()){case"high":return"destructive";case"medium":return"default";case"low":return"outline";default:return"secondary"}};return e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx(k,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"AI Content Analysis"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Automatische Kategorisierung und Bewertung von Regulatory Content"})]})]}),e.jsxs(l,{className:"mb-8",children:[e.jsx(n,{children:e.jsxs(r,{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-5 w-5"}),"Content Input"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsx(A,{placeholder:"ðŸ”´ MOCK DATA - Geben Sie hier den zu analysierenden Regulatory Content ein - AUTHENTIC AI SERVICE REQUIRED",value:i,onChange:a=>y(a.target.value),rows:6,className:"w-full"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[i.length," Zeichen"]}),e.jsx(S,{onClick:N,disabled:o||!i.trim(),className:"flex items-center gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Analysiere..."]}):e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"h-4 w-4"}),"Inhalt analysieren"]})})]})]})]}),s&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(l,{children:[e.jsx(n,{children:e.jsxs(r,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5 text-blue-600"}),"Kategorisierung"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Kategorien"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.categorization.categories.map((a,t)=>e.jsx(d,{variant:"default",children:a},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"GerÃ¤tetypen"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.categorization.deviceTypes.map((a,t)=>e.jsx(d,{variant:"outline",children:a},t))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Therapeutischer Bereich"}),e.jsx("p",{className:"text-sm mt-1",children:s.categorization.therapeuticArea})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Risikostufe"}),e.jsx(d,{variant:v(s.categorization.riskLevel),className:"mt-1",children:s.categorization.riskLevel})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Konfidenz-Score"}),e.jsxs("div",{className:"mt-2",children:[e.jsx(g,{value:s.categorization.confidence*100,className:"h-2"}),e.jsxs("span",{className:"text-sm text-gray-500 mt-1",children:[Math.round(s.categorization.confidence*100),"%"]})]})]})]})]}),e.jsxs(l,{children:[e.jsx(n,{children:e.jsxs(r,{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5 text-green-600"}),"Bewertung"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"PrioritÃ¤t"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${f(s.evaluation.priority)}`}),e.jsx("span",{className:"text-sm capitalize",children:s.evaluation.priority})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"ZeitkritikalitÃ¤t"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(E,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:s.evaluation.timelineSensitivity})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"QualitÃ¤ts-Score"}),e.jsxs("div",{className:"mt-2",children:[e.jsx(g,{value:s.evaluation.qualityScore,className:"h-2"}),e.jsxs("span",{className:"text-sm text-gray-500 mt-1",children:[s.evaluation.qualityScore,"%"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sentiment"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.evaluation.sentiment==="positive"&&e.jsx(j,{className:"h-4 w-4 text-green-500"}),s.evaluation.sentiment==="negative"&&e.jsx(I,{className:"h-4 w-4 text-red-500"}),s.evaluation.sentiment==="neutral"&&e.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-400"}),e.jsx("span",{className:"text-sm capitalize",children:s.evaluation.sentiment})]})]})]})]})]}),e.jsxs(l,{className:"lg:col-span-2",children:[e.jsx(n,{children:e.jsxs(r,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5 text-yellow-600"}),"Erkenntnisse & Zusammenfassung"]})}),e.jsxs(c,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"KI-Zusammenfassung"}),e.jsx("p",{className:"text-sm mt-2 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:s.insights.summary})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"SchlÃ¼sselpunkte"}),e.jsx("ul",{className:"text-sm mt-2 space-y-1",children:s.insights.keyPoints.map((a,t)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(j,{className:"h-3 w-3 text-green-500 mt-1 flex-shrink-0"}),a]},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Erkannte EntitÃ¤ten"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.insights.entities.slice(0,8).map((a,t)=>e.jsx(d,{variant:"secondary",className:"text-xs",children:a},t))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4"}),"Compliance-Bereiche"]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.insights.complianceAreas.map((a,t)=>e.jsx(d,{variant:"default",children:a},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Empfehlungen"}),e.jsx("ul",{className:"text-sm mt-2 space-y-1",children:s.insights.recommendations.slice(0,3).map((a,t)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(u,{className:"h-3 w-3 text-yellow-500 mt-1 flex-shrink-0"}),a]},t))})]})]})]})]}),e.jsxs(l,{className:"lg:col-span-2",children:[e.jsx(n,{children:e.jsx(r,{className:"text-sm",children:"Analyse-Metadaten"})}),e.jsx(c,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Verarbeitet am:"}),e.jsx("br",{}),new Date(s.metadata.processedAt).toLocaleString("de-DE")]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Content-LÃ¤nge:"}),e.jsx("br",{}),s.metadata.contentLength," Zeichen"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Analyse-Version:"}),e.jsx("br",{}),s.metadata.analysisVersion]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Verarbeitungszeit:"}),e.jsx("br",{}),s.metadata.processingTime]})]})})]})]})]})}export{D as default};
