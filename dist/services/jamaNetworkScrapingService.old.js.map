{"version":3,"file":"jamaNetworkScrapingService.old.js","sourceRoot":"","sources":["../../server/services/jamaNetworkScrapingService.old.ts"],"names":[],"mappings":"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","sourcesContent":["import { Logger } from './logger.service';\r\nimport { storage } from '../storage';\r\n\r\ninterface JAMAArticle {\r\n  title: string;\r\n  url: string;\r\n  abstract: string;\r\n  authors: string[];\r\n  publishedDate: string;\r\n  journal: string;\r\n  doi?: string;\r\n  category: string;\r\n}\r\n\r\nexport class JAMANetworkScrapingService {\r\n  private logger = new Logger('JAMANetworkScraping');\r\n  private baseUrl = 'https://jamanetwork.com';\r\n  \r\n  /**\r\n   * Extract articles from JAMA Network Medical Devices collection\r\n   */\r\n  async extractMedicalDeviceArticles(): Promise<JAMAArticle[]> {\r\n    try {\r\n      this.logger.info('Starting JAMA Network Medical Devices extraction');\r\n      \r\n      const collectionUrl = 'https://jamanetwork.com/collections/5738/medical-devices-and-equipment';\r\n      const articles: JAMAArticle[] = [];\r\n      \r\n      // Fetch first page\r\n      const firstPageArticles = await this.extractArticlesFromPage(collectionUrl);\r\n      articles.push(...firstPageArticles);\r\n      \r\n      // Check for pagination and extract additional pages\r\n      const totalPages = await this.getTotalPages(collectionUrl);\r\n      \r\n      for (let page = 2; page <= Math.min(totalPages, 10); page++) {\r\n        const pageUrl = `${collectionUrl}?page=${page}`;\r\n        const pageArticles = await this.extractArticlesFromPage(pageUrl);\r\n        articles.push(...pageArticles);\r\n        \r\n        // Add delay to be respectful to the server\r\n        await this.delay(2000);\r\n      }\r\n      \r\n      this.logger.info('JAMA Network extraction completed', { \r\n        totalArticles: articles.length,\r\n        pages: Math.min(totalPages, 10)\r\n      });\r\n      \r\n      return articles;\r\n    } catch (error) {\r\n      this.logger.error('Error extracting JAMA Network articles', error);\r\n      return [];\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Extract articles from a single page\r\n   */\r\n  private async extractArticlesFromPage(url: string): Promise<JAMAArticle[]> {\r\n    try {\r\n      // **PRODUCTION MODE**: NO SIMULATED ARTICLES\r\n      this.logger.warn('JAMA Network scraping DISABLED - No authentic API access');\r\n      return [];\r\n          journal: \"JAMA\",\r\n          doi: \"10.1001/jama.2024.0001\",\r\n          category: \"AI Medical Devices\"\r\n        },\r\n        {\r\n          title: \"Clinical Outcomes of Next-Generation Cardiac Pacemakers: A Multicenter Study\",\r\n          url: \"https://jamanetwork.com/journals/jamacardiology/fullarticle/2784568\",\r\n          abstract: \"Comprehensive analysis of clinical outcomes for advanced cardiac pacemaker technologies in diverse patient populations.\",\r\n          authors: [\"Anderson, K.L.\", \"Taylor, R.P.\", \"Brown, S.M.\"],\r\n          publishedDate: \"2024-01-20\",\r\n          journal: \"JAMA Cardiology\",\r\n          doi: \"10.1001/jamacardio.2024.0002\",\r\n          category: \"Cardiac Devices\"\r\n        },\r\n        {\r\n          title: \"Regulatory Compliance and Post-Market Surveillance of Orthopedic Implants\",\r\n          url: \"https://jamanetwork.com/journals/jamasurgery/fullarticle/2784569\",\r\n          abstract: \"Analysis of regulatory compliance challenges and post-market surveillance effectiveness for orthopedic implants.\",\r\n          authors: [\"Davis, L.M.\", \"Wilson, P.K.\", \"Miller, R.J.\"],\r\n          publishedDate: \"2024-01-25\",\r\n          journal: \"JAMA Surgery\",\r\n          doi: \"10.1001/jamasurg.2024.0003\",\r\n          category: \"Orthopedic Devices\"\r\n        },\r\n        {\r\n          title: \"Digital Health Technologies in Diabetes Management: Regulatory Perspectives\",\r\n          url: \"https://jamanetwork.com/journals/jamainternalmedicine/fullarticle/2784570\",\r\n          abstract: \"Examination of regulatory frameworks for digital health technologies in diabetes care and management.\",\r\n          authors: [\"Thompson, A.K.\", \"Garcia, M.R.\", \"Lee, J.S.\"],\r\n          publishedDate: \"2024-02-01\",\r\n          journal: \"JAMA Internal Medicine\",\r\n          doi: \"10.1001/jamainternmed.2024.0004\",\r\n          category: \"Digital Health\"\r\n        },\r\n        {\r\n          title: \"Safety Assessment of Implantable Cardioverter Defibrillators: 10-Year Follow-up\",\r\n          url: \"https://jamanetwork.com/journals/jamacardiology/fullarticle/2784571\",\r\n          abstract: \"Long-term safety and efficacy assessment of modern implantable cardioverter defibrillators.\",\r\n          authors: [\"Rodriguez, C.P.\", \"Kim, H.W.\", \"Johnson, T.L.\"],\r\n          publishedDate: \"2024-02-05\",\r\n          journal: \"JAMA Cardiology\",\r\n          doi: \"10.1001/jamacardio.2024.0005\",\r\n          category: \"Cardiac Devices\"\r\n        },\r\n        {\r\n          title: \"Regulatory Harmonization for Medical Device Software: Global Perspectives\",\r\n          url: \"https://jamanetwork.com/journals/jama/fullarticle/2784572\",\r\n          abstract: \"Analysis of global regulatory harmonization efforts for medical device software across different jurisdictions.\",\r\n          authors: [\"Zhang, L.Q.\", \"Patel, N.K.\", \"O'Connor, M.D.\"],\r\n          publishedDate: \"2024-02-10\",\r\n          journal: \"JAMA\",\r\n          doi: \"10.1001/jama.2024.0006\",\r\n          category: \"Software Medical Devices\"\r\n        },\r\n        {\r\n          title: \"Clinical Evidence Requirements for Novel Diagnostic Devices: A Regulatory Analysis\",\r\n          url: \"https://jamanetwork.com/journals/jamanetworkopen/fullarticle/2784573\",\r\n          abstract: \"Comprehensive review of clinical evidence requirements for innovative diagnostic medical devices.\",\r\n          authors: [\"Martinez, R.L.\", \"Chen, A.Y.\", \"Walker, K.M.\"],\r\n          publishedDate: \"2024-02-15\",\r\n          journal: \"JAMA Network Open\",\r\n          doi: \"10.1001/jamanetworkopen.2024.0007\",\r\n          category: \"Diagnostic Devices\"\r\n        },\r\n        {\r\n          title: \"Post-Market Surveillance of Neurostimulation Devices: Real-World Evidence\",\r\n          url: \"https://jamanetwork.com/journals/jamaneurology/fullarticle/2784574\",\r\n          abstract: \"Real-world evidence analysis of neurostimulation device performance and safety in clinical practice.\",\r\n          authors: [\"Adams, B.R.\", \"Singh, P.K.\", \"Clark, D.M.\"],\r\n          publishedDate: \"2024-02-20\",\r\n          journal: \"JAMA Neurology\",\r\n          doi: \"10.1001/jamaneurol.2024.0008\",\r\n          category: \"Neurostimulation Devices\"\r\n        },\r\n        {\r\n          title: \"Regulatory Pathways for Combination Medical Devices: Challenges and Opportunities\",\r\n          url: \"https://jamanetwork.com/journals/jama/fullarticle/2784575\",\r\n          abstract: \"Analysis of regulatory challenges and opportunities for combination medical devices across global markets.\",\r\n          authors: [\"Foster, J.K.\", \"Liu, X.M.\", \"Anderson, P.L.\"],\r\n          publishedDate: \"2024-02-25\",\r\n          journal: \"JAMA\",\r\n          doi: \"10.1001/jama.2024.0009\",\r\n          category: \"Combination Devices\"\r\n        },\r\n        {\r\n          title: \"Machine Learning in Medical Device Quality Control: Regulatory Implications\",\r\n          url: \"https://jamanetwork.com/journals/jamanetworkopen/fullarticle/2784576\",\r\n          abstract: \"Examination of machine learning applications in medical device quality control and associated regulatory considerations.\",\r\n          authors: [\"Parker, M.J.\", \"Kumar, S.R.\", \"White, L.A.\"],\r\n          publishedDate: \"2024-03-01\",\r\n          journal: \"JAMA Network Open\",\r\n          doi: \"10.1001/jamanetworkopen.2024.0010\",\r\n          category: \"AI Medical Devices\"\r\n        }\r\n      ];\r\n      \r\n      this.logger.info('Extracted JAMA articles from page', { \r\n        url, \r\n        articleCount: simulatedArticles.length \r\n      });\r\n      \r\n      return simulatedArticles;\r\n    } catch (error) {\r\n      this.logger.error('Error extracting articles from page', { url, error });\r\n      return [];\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Get total number of pages (simulated)\r\n   */\r\n  private async getTotalPages(url: string): Promise<number> {\r\n    // Simulate pagination - JAMA collections typically have multiple pages\r\n    return 5;\r\n  }\r\n  \r\n  /**\r\n   * Convert JAMA articles to Knowledge Articles format\r\n   */\r\n  async saveArticlesToKnowledgeBase(): Promise<void> {\r\n    try {\r\n      this.logger.info('Starting JAMA articles import to knowledge base');\r\n      \r\n      const jamaArticles = await this.extractMedicalDeviceArticles();\r\n      let savedCount = 0;\r\n      \r\n      for (const article of jamaArticles) {\r\n        const knowledgeArticle = {\r\n          title: article.title,\r\n          content: `${article.abstract}\\n\\nAuthors: ${article.authors.join(', ')}\\nJournal: ${article.journal}\\nPublished: ${article.publishedDate}${article.doi ? `\\nDOI: ${article.doi}` : ''}`,\r\n          authority: 'JAMA Network',\r\n          region: 'Global',\r\n          category: 'medtech_research',\r\n          published_at: article.publishedDate,\r\n          priority: 'high',\r\n          tags: ['medical-devices', 'research', 'jama', article.category.toLowerCase().replace(/\\s+/g, '-')],\r\n          url: article.url,\r\n          summary: article.abstract.substring(0, 200) + '...',\r\n          source_id: 'jama_network_medical_devices',\r\n          device_classes: [article.category]\r\n        };\r\n        \r\n        await storage.createRegulatoryUpdate(knowledgeArticle);\r\n        savedCount++;\r\n        \r\n        this.logger.info('Saved JAMA article to knowledge base', { \r\n          title: article.title,\r\n          category: article.category \r\n        });\r\n      }\r\n      \r\n      this.logger.info('JAMA articles import completed', { \r\n        totalArticles: jamaArticles.length,\r\n        savedArticles: savedCount \r\n      });\r\n      \r\n    } catch (error) {\r\n      this.logger.error('Error saving JAMA articles to knowledge base', error);\r\n      throw error;\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Delay function for respectful scraping\r\n   */\r\n  private delay(ms: number): Promise<void> {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n  }\r\n}"]}