{"version":3,"file":"administration.js","sourceRoot":"","sources":["../../server/routes/administration.ts"],"names":[],"mappings":"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","sourcesContent":["import { Router } from 'express';\r\nimport fs from 'fs/promises';\r\nimport path from 'path';\r\nimport archiver from 'archiver';\r\nimport type { Request, Response } from 'express';\r\n\r\nconst router = Router();\r\n\r\n// Get development phases\r\nrouter.get('/development-phases', async (req: Request, res: Response) => {\r\n  try {\r\n    // Return development phases data\r\n    const phases = [\r\n      {\r\n        id: 'phase1',\r\n        name: 'Phase 1: System-Grundlagen',\r\n        description: 'Grundlegende Systemarchitektur und Core-Funktionalitäten',\r\n        status: 'completed',\r\n        progress: 100,\r\n        startDate: '2025-07-15T00:00:00Z',\r\n        completedDate: '2025-07-31T00:00:00Z',\r\n        estimatedDuration: '2 Wochen',\r\n        tasks: [\r\n          {\r\n            id: 'p1-t1',\r\n            name: 'Datenbank-Schema erstellen',\r\n            description: 'PostgreSQL Schema für Knowledge Base, Legal Cases und Regulatory Updates',\r\n            status: 'completed',\r\n            category: 'database',\r\n            priority: 'high'\r\n          },\r\n          {\r\n            id: 'p1-t2',\r\n            name: 'Backend API Grundgerüst',\r\n            description: 'Express.js Server mit TypeScript und Drizzle ORM',\r\n            status: 'completed',\r\n            category: 'backend',\r\n            priority: 'high'\r\n          },\r\n          {\r\n            id: 'p1-t3',\r\n            name: 'Frontend Basis-Setup',\r\n            description: 'React mit TypeScript und Tailwind CSS',\r\n            status: 'completed',\r\n            category: 'frontend',\r\n            priority: 'high'\r\n          },\r\n          {\r\n            id: 'p1-t4',\r\n            name: 'Authentication System',\r\n            description: 'Replit OpenID Connect Integration',\r\n            status: 'completed',\r\n            category: 'backend',\r\n            priority: 'medium'\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 'phase2',\r\n        name: 'Phase 2: Data Collection & AI',\r\n        description: 'Automatisierte Datensammlung und KI-gestützte Analyse',\r\n        status: 'completed',\r\n        progress: 95,\r\n        startDate: '2025-07-31T00:00:00Z',\r\n        completedDate: '2025-08-01T00:00:00Z',\r\n        estimatedDuration: '1 Woche',\r\n        tasks: [\r\n          {\r\n            id: 'p2-t1',\r\n            name: 'Universal Knowledge Extractor',\r\n            description: '13 internationale Datenquellen Integration',\r\n            status: 'completed',\r\n            category: 'backend',\r\n            priority: 'high'\r\n          },\r\n          {\r\n            id: 'p2-t2',\r\n            name: 'JAMA Network Integration',\r\n            description: 'Spezielle Integration für medizinische Fachartikel',\r\n            status: 'completed',\r\n            category: 'backend',\r\n            priority: 'high'\r\n          },\r\n          {\r\n            id: 'p2-t3',\r\n            name: 'Knowledge Base Frontend',\r\n            description: 'Benutzeroberfläche für Knowledge Articles',\r\n            status: 'completed',\r\n            category: 'frontend',\r\n            priority: 'medium'\r\n          },\r\n          {\r\n            id: 'p2-t4',\r\n            name: 'AI Content Analysis',\r\n            description: 'Automatische Kategorisierung und Bewertung',\r\n            status: 'in-progress',\r\n            category: 'backend',\r\n            priority: 'medium'\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 'phase3',\r\n        name: 'Phase 3: Production & Optimization',\r\n        description: 'Production-Deployment und Performance-Optimierung',\r\n        status: 'in-progress',\r\n        progress: 85,\r\n        startDate: '2025-08-01T00:00:00Z',\r\n        estimatedDuration: '1 Woche',\r\n        tasks: [\r\n          {\r\n            id: 'p3-t1',\r\n            name: 'Production Deployment',\r\n            description: 'Replit Deployment mit Custom Domain',\r\n            status: 'completed',\r\n            category: 'deployment',\r\n            priority: 'high'\r\n          },\r\n          {\r\n            id: 'p3-t2',\r\n            name: 'Performance Monitoring',\r\n            description: 'Winston Logging und Health Checks',\r\n            status: 'completed',\r\n            category: 'backend',\r\n            priority: 'high'\r\n          },\r\n          {\r\n            id: 'p3-t3',\r\n            name: 'Security Hardening',\r\n            description: 'Rate Limiting, Input Validation, HTTPS',\r\n            status: 'completed',\r\n            category: 'backend',\r\n            priority: 'high'\r\n          },\r\n          {\r\n            id: 'p3-t4',\r\n            name: 'Documentation Suite',\r\n            description: 'Umfassende System-Dokumentation',\r\n            status: 'completed',\r\n            category: 'backend',\r\n            priority: 'medium'\r\n          },\r\n          {\r\n            id: 'p3-t5',\r\n            name: 'Administration Panel',\r\n            description: 'Phase-Management und System-Administration',\r\n            status: 'completed',\r\n            category: 'frontend',\r\n            priority: 'medium'\r\n          },\r\n          {\r\n            id: 'p3-t6',\r\n            name: 'Advanced Analytics',\r\n            description: 'Dashboard-Optimierung und Reporting',\r\n            status: 'in-progress',\r\n            category: 'frontend',\r\n            priority: 'medium'\r\n          },\r\n          {\r\n            id: 'p3-t7',\r\n            name: 'User Experience Polish',\r\n            description: 'UI/UX Verbesserungen und Mobile Optimierung',\r\n            status: 'pending',\r\n            category: 'frontend',\r\n            priority: 'low'\r\n          }\r\n        ]\r\n      }\r\n    ];\r\n\r\n    res.json(phases);\r\n  } catch (error) {\r\n    console.error('Error fetching development phases:', error);\r\n    res.status(500).json({ error: 'Failed to fetch development phases' });\r\n  }\r\n});\r\n\r\n// Execute phase action\r\nrouter.post('/phases/:phaseId/:action', async (req: Request, res: Response) => {\r\n  try {\r\n    const { phaseId, action } = req.params;\r\n    \r\n    console.log(`[ADMIN] Executing phase action: ${action} on phase ${phaseId}`);\r\n    \r\n    // Simulate phase action\r\n    let message = '';\r\n    switch (action) {\r\n      case 'start':\r\n        message = `Phase ${phaseId} wurde gestartet`;\r\n        break;\r\n      case 'pause':\r\n        message = `Phase ${phaseId} wurde pausiert`;\r\n        break;\r\n      case 'restart':\r\n        message = `Phase ${phaseId} wurde neu gestartet`;\r\n        break;\r\n      default:\r\n        return res.status(400).json({ error: 'Invalid action' });\r\n    }\r\n\r\n    res.json({\r\n      success: true,\r\n      message,\r\n      phaseId,\r\n      action,\r\n      timestamp: new Date().toISOString()\r\n    });\r\n  } catch (error) {\r\n    console.error('Error executing phase action:', error);\r\n    res.status(500).json({ error: 'Failed to execute phase action' });\r\n  }\r\n});\r\n\r\n// Download documentation\r\nrouter.get('/download-documentation', async (req: Request, res: Response) => {\r\n  try {\r\n    const format = req.query.format as string || 'zip';\r\n    \r\n    if (format === 'zip') {\r\n      // Create ZIP archive\r\n      const archive = archiver('zip', { zlib: { level: 9 } });\r\n      \r\n      res.setHeader('Content-Type', 'application/zip');\r\n      res.setHeader('Content-Disposition', 'attachment; filename=\"helix-documentation.zip\"');\r\n      \r\n      archive.pipe(res);\r\n      \r\n      // Add documentation files to archive\r\n      const docFiles = [\r\n        'SOFTWARE_DOKUMENTATION_HELIX.md',\r\n        'API_REFERENCE_HELIX.md',\r\n        'DEPLOYMENT_GUIDE_HELIX.md',\r\n        'README.md'\r\n      ];\r\n      \r\n      for (const file of docFiles) {\r\n        try {\r\n          const filePath = path.join(process.cwd(), file);\r\n          const content = await fs.readFile(filePath, 'utf8');\r\n          archive.append(content, { name: file });\r\n        } catch (error) {\r\n          console.warn(`Could not add ${file} to archive:`, error);\r\n        }\r\n      }\r\n      \r\n      // Add package.json for reference\r\n      try {\r\n        const packagePath = path.join(process.cwd(), 'package.json');\r\n        const packageContent = await fs.readFile(packagePath, 'utf8');\r\n        archive.append(packageContent, { name: 'package.json' });\r\n      } catch (error) {\r\n        console.warn('Could not add package.json to archive');\r\n      }\r\n      \r\n      archive.finalize();\r\n      \r\n    } else if (format === 'pdf') {\r\n      // For PDF, we'll return the main documentation as text\r\n      // In a real implementation, you'd convert to PDF\r\n      try {\r\n        const docPath = path.join(process.cwd(), 'SOFTWARE_DOKUMENTATION_HELIX.md');\r\n        const content = await fs.readFile(docPath, 'utf8');\r\n        \r\n        res.setHeader('Content-Type', 'application/json');\r\n        res.setHeader('Content-Disposition', 'attachment; filename=\"helix-documentation.txt\"');\r\n        res.json({\r\n          success: true,\r\n          content: content,\r\n          contentType: 'application/json',\r\n          filename: 'helix-documentation.txt'\r\n        });\r\n      } catch (error) {\r\n        res.status(404).json({ error: 'Documentation file not found' });\r\n      }\r\n    } else {\r\n      res.status(400).json({ error: 'Invalid format. Use zip or pdf' });\r\n    }\r\n    \r\n  } catch (error) {\r\n    console.error('Error generating documentation download:', error);\r\n    res.status(500).json({ error: 'Failed to generate documentation download' });\r\n  }\r\n});\r\n\r\nexport default router;"]}